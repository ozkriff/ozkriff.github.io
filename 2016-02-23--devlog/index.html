<!DOCTYPE html>
<html lang="en">
    <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta http-equiv="content-type" content="text/html; charset=utf-8">

      <!-- Enable responsiveness on mobile devices-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

      <title>ozkriff&#x27;s devlog</title>

      <!-- CSS -->
      <link rel="stylesheet" href="https:&#x2F;&#x2F;ozkriff.games&#x2F;print.css" media="print">
      <link rel="stylesheet" href="https:&#x2F;&#x2F;ozkriff.games&#x2F;poole.css">
      <link rel="stylesheet" href="https:&#x2F;&#x2F;ozkriff.games&#x2F;hyde.css">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

      
        <link rel="shortcut icon" type="image/png" href="https:&#x2F;&#x2F;ozkriff.games&#x2F;favicon.png">
      

      
        <link rel="alternate" type="application/rss+xml" title="RSS" href="https:&#x2F;&#x2F;ozkriff.games&#x2F;rss.xml">
      

      
        <!-- Global Site Tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-70829739-1"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'UA-70829739-1');
        </script>
      

      
      
    </head>

    <body class=" ">
        
            <div class="sidebar">
                <div class="container ">
                    <div class="sidebar-about">
                        
                            <a href="https:&#x2F;&#x2F;ozkriff.games"><h1>ozkriff&#x27;s devlog</h1></a>
                            
                        
                    </div>

                    <ul class="sidebar-nav">
                        
                        
                        <li class="sidebar-nav-item"><a href="&#x2F;pages&#x2F;about">about</a></li>
                        
                        <li class="sidebar-nav-item"><a href="https:&#x2F;&#x2F;twitter.com&#x2F;ozkriff">twitter</a></li>
                        
                        <li class="sidebar-nav-item"><a href="https:&#x2F;&#x2F;github.com&#x2F;ozkriff">github</a></li>
                        
                        
                    </ul>
                </div>
            </div>
        

        <div class="content container">
            
<div class="post">
  <h1 class="post-title">Градообразующие объекты</h1>
  
  <span class="post-date">2016-02-23</span>
  
  <p>Показал нескольким знакомым макет, послушал комментарии. Один из
повторяющихся - города не выглядят городами, слишком абстрактные, больше
похожи на хаотично раскиданные детские кубики.</p>
<p>Я об этом не задумывался, моему замыленному взгляду город и так хорошо
виден. Даже наоборот, пытался здания раскидать и повернуть как попало,
что бы меньше чувствовалась жесткая гексагональная сетка со слотами.</p>
<p>По задумке, города (и деревеньки) должны занимать не больше
восьми-десяти клеток в радиусе и действительно быть довольно
абстрактными - иначе странно будет выглядеть соотношение размеров зданий
и техники/человечков. И кое-какая хаотичность в любом случае должна
быть, скучные города с улицами ровно под 90 градусов я делать совсем не
хочется.</p>
<p>Но в то же время города должны выглядеть как цельный многоклеточный
объект. Выход вижу в каком-то алгоритме прокладки не влияющих на логику
городских улиц и автоматическом визуальном повороте зданий не абы как, а
параллельно с улицами.</p>
<p>Что бы не запутаться, ввожу разделение: &quot;дорога&quot; - значима для игровой
логики и идет строго от центра одной клетки к центру другой, а &quot;улица&quot; -
это бутафорское нечто в городских клетках.</p>
<p>Около большого здания, наверное, стоит выравнивать мелкие здания
относительно него, а не окружающих улиц. Типа, архитектурный ансамбль :)
.</p>
<p>Если посмотреть на тот же атлас дорог страны, то там от столицы тянутся
федеральные трассы, пронизывающие города насквозь:</p>
<p><img src="https://ozkriff.games/2016-02-23--devlog/viborg-map.png" alt="карта Выборга с отмеченными главными дорогами" /></p>
<p>Вот желтое тут - &quot;дороги&quot;, а белое/серое - &quot;улицы&quot; и дома. Наверное,
надо разрешить особую дорогу по городу прокладывать. На этих клетках
нельзя дома строить будет, но через нее будут проходить обычные улицы и
такая дорога не будет разрывать целостность города.</p>
<p>Хммм, еще надо будет научить отряды внутри города двигаться по улицам
(визуально, не логически).</p>
<p>Надо будет не забыть добавить еще железные дороги - один в один как
обычные дороги, только позволят поезду заезжать на клетку. И тропинки в
лесу: лес с деревьями, между центрами клеток нарисована небольшая дорога
с особой текстурой - по такому лесу техника сможет ехать, но медленно и
с плохим обзором.</p>
<hr />
<p>Но это так, мысли все. &quot;Реально&quot; в макете не успел все попробовать.</p>
<p>Добавил улицы и декоративные заборчики с садами у пары зданий.</p>
<p>Здания к улицам повернул &quot;фасадами&quot;.</p>
<p>Заводу трубу прилепил, так чуть понятнее что это завод :) .</p>
<p><img src="https://ozkriff.games/2016-02-23--devlog/draft-streets-1.png" alt="Макет улиц" /></p>
<p><img src="https://ozkriff.games/2016-02-23--devlog/draft-streets-2.png" alt="Макет улиц с другого ракурса" /></p>
<p>В таком виде улицы слишком бросаются в глаза для &quot;чисто декоративного&quot;
элемента. Возможно, потому что макет довольно беден на детали? В игре
можно будет их &quot;запылить&quot; землей по краям, думаю.</p>
<p>Еще вопрос, как такое автоматически генерировать можно? Тут-то сетка
вручную сделана и довольно хитрожопая:</p>
<p><img src="https://ozkriff.games/2016-02-23--devlog/wireframe.png" alt="Сетка макета городских улиц" /></p>
<p>Сделал болванку трехклеточного корабля, у этого придется немного
поколдавать с путенажодением, что бы он плавно поворачивал и только по
широким рекам мог проплывать.</p>
<p><img src="https://ozkriff.games/2016-02-23--devlog/updated-draft.png" alt="Рендер макета с вышеописанными изменениями" /></p>
<hr />
<p>Чуууточку удалось поковырять код между рисовашками и размышлениями.</p>
<p>В рамках подготовки к введению системы слотов удалил костыль с
константами номеров узлов сцены
(<a href="https://github.com/ozkriff/zoc/issues/154">#154</a>).</p>
<p>Долго пытался понять, как мой код ломает погрузку пехоты в грузовик.
Потом понял, что оно и раньше не работало. Отлично! :)</p>
<p>Потыкал асимметричность тумана войны
(<a href="https://github.com/ozkriff/zoc/issues/149">#149</a>), не там все совсем
не просто и времени много займет, отложил пока что. Как и отложил задачи
о украшении типов-оберток
(<a href="https://github.com/ozkriff/zoc/issues/120">#120</a>,
<a href="https://github.com/ozkriff/zoc/issues/147">#147</a>), потому что прямой
пользы для прототипа от них не так много.</p>
<hr />
<p><a href="https://github.com/rust-lang/rust/pull/31123">rust-lang/rust#31123</a> -
ураа, проверка сборок под андроидом, лед тронулся! Значит, скоро
ситуация со сборкой под андроид должна в лучшую сторону измениться.</p>
<hr />
<p>Заглянул тут в <a href="http://store.steampowered.com/app/365560">обзоры</a> Battle
of the Bulge в стиме. Я просто в ужасе от того, сколько отрицательных
обзоров в &quot;самых полезных&quot;. Какого черта, человеки?! Игра же отличная,
просто она отличается от большинства компьютерных стратегий. Идите в
ремейки Панзер Дженералс играть, быдлота от мира варгеймов, не портите
оценку маленькому шедевру :( .</p>
<hr />
<p>Итак, я опять фактически потратил пару дней на макет и размышления. Пора
уже заняться реализацией слотов в коде.</p>
<hr />
<p>Обсуждение <a href="https://disqus.com/home/discussion/ozkriffgithubio/15e36903ac664d709185e519372aeea4">на Disqus</a>.</p>

</div>

        </div>

    </body>

</html>
