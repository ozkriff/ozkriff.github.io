<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>marauder</title><link href="http://ozkriff.github.io/" rel="alternate"></link><link href="http://ozkriff.github.io/feeds/all.atom.xml" rel="self"></link><id>http://ozkriff.github.io/</id><updated>2014-04-14T12:00:00+04:00</updated><entry><title>Разработка Мародера [2014.04.07 .. 2014.04.13]</title><link href="http://ozkriff.github.io/week-recap-7.html" rel="alternate"></link><updated>2014-04-14T12:00:00+04:00</updated><author><name>ozkriff</name></author><id>tag:ozkriff.github.io,2014-04-14:week-recap-7.html</id><summary type="html">&lt;p&gt;На этой неделе у меня был отпуск, о даа.&lt;/p&gt;
&lt;p&gt;Наконец-то немного разобрался с pelican и начал приводить в порядок и
выкладывать эти недельные отчеты на ozkriff.github.io, а то до этого они
у меня только в gist`е лежали.&lt;/p&gt;
&lt;p&gt;По самому мародеру почти ничего не сделал, только выложил на гитхаб
очень-очень базовую версию stb-tt-rs и кое-какой код интеграции в мародер.
Но по факту текста в игре пока так и нет.&lt;/p&gt;
&lt;!-- vim: set tabstop=4 shiftwidth=4 softtabstop=4 expandtab: --&gt;
</summary><category term="marauder"></category><category term="gamedev"></category></entry><entry><title>Разработка Мародера [2014.03.31 .. 2014.04.07]</title><link href="http://ozkriff.github.io/week-recap-6.html" rel="alternate"></link><updated>2014-04-08T11:00:00+04:00</updated><author><name>ozkriff</name></author><id>tag:ozkriff.github.io,2014-04-08:week-recap-6.html</id><summary type="html">&lt;p&gt;Аналогично с прошлой - ничего, только смотрю, что б Мародер собирался.&lt;/p&gt;
&lt;!-- vim: set tabstop=4 shiftwidth=4 softtabstop=4 expandtab: --&gt;
</summary><category term="marauder"></category><category term="gamedev"></category></entry><entry><title>Разработка Мародера [2014.02.24 .. 2014.03.02]</title><link href="http://ozkriff.github.io/week-recap-1.html" rel="alternate"></link><updated>2014-04-02T10:20:00+04:00</updated><author><name>ozkriff</name></author><id>tag:ozkriff.github.io,2014-04-02:week-recap-1.html</id><summary type="html">&lt;p&gt;Так, что я сделал за эту неделю? Вообще, намного меньше, чем собирался :( .&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;Ну, во первых, решил делать вот эти самые еженедельные записи.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Портировал из старых прототипов базовое путенахождение, причем оно происходит
не на сервере, а на клиенте, основываясь на знаниях клиента о мире. Т.е., если
на пол пути окажется скрытый юнит, то путь через его клетку все равно будет
проложен, а уже при симуляции команды на сервере случится сюрприз в виде
засады.&lt;/p&gt;
&lt;p&gt;Раньше:&lt;/p&gt;
&lt;p&gt;&lt;img alt="pathfinding-pic-1" src="http://i.imgur.com/vCdvn0i.gif" /&gt;&lt;/p&gt;
&lt;p&gt;Теперь:&lt;/p&gt;
&lt;p&gt;&lt;img alt="pathfinding-pic-2" src="http://i.imgur.com/Wda41RD.gif" /&gt;&lt;/p&gt;
&lt;p&gt;Да, пока отряд никак не поворачивается при движении :( .&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Немного привел в порядок gl_helpers, вынес из него типы Texture, Vao, Vbo и
Shader. Ну и спрятал вызовы привязок gl внутри этих классов.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Разделил все исходники на директории core и visualizer. Позже, наверное,
сделаю их отдельными единицами компиляции.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Постарался сделать так, что бы после вызова конструктора объекта он уже сразу
был готов к использованию, а не ждал вызова init-подобного метода в
неопределенном состоянии.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Добавил в интерфейс визуализаторов событий метод 'start' для, очевидно,
начала визуализации события.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;!-- vim: set tabstop=4 shiftwidth=4 softtabstop=4 expandtab: --&gt;
</summary><category term="marauder"></category><category term="gamedev"></category></entry><entry><title>Разработка Мародера [2014.03.24 .. 2014.03.30]</title><link href="http://ozkriff.github.io/week-recap-5.html" rel="alternate"></link><updated>2014-03-31T12:00:00+04:00</updated><author><name>ozkriff</name></author><id>tag:ozkriff.github.io,2014-03-31:week-recap-5.html</id><summary type="html">&lt;p&gt;За эту неделю ничего не сделал, только слежу, что бы мародер
собирался ночными сборками компилятора Ржавчины.&lt;/p&gt;
&lt;!-- vim: set tabstop=4 shiftwidth=4 softtabstop=4 expandtab: --&gt;
</summary><category term="marauder"></category><category term="gamedev"></category></entry><entry><title>Разработка Мародера [2014.03.17 .. 2014.03.23]</title><link href="http://ozkriff.github.io/week-recap-4.html" rel="alternate"></link><updated>2014-03-24T11:00:00+04:00</updated><author><name>ozkriff</name></author><id>tag:ozkriff.github.io,2014-03-24:week-recap-4.html</id><summary type="html">&lt;p&gt;Мучал glfw-rs, cgmath-rs и самого мародера, что бы они собирались с
последней версией компилятора. Сложно было :)&lt;/p&gt;
&lt;p&gt;Брендан хочет, что бы cgmath-rs был исправлен не таким грубым хаком.
Там могут быть косяки с NaN и +/-Inf.
Но я туплю как сделать правильно. :(&lt;/p&gt;
&lt;p&gt;Мой грандиозный страйк помер :(, черт:&lt;/p&gt;
&lt;p&gt;&lt;img alt="github-streak-fail" src="http://i.imgur.com/Iky0iZx.png" /&gt;&lt;/p&gt;
&lt;p&gt;Капельку поковырял текст. Решил, что не буду использовать cmr/hgl-rs,
страшно мне. Лучше все-таки чего-то свое сделаю.&lt;/p&gt;
&lt;p&gt;Шрифты, шрифты:&lt;/p&gt;
&lt;p&gt;&lt;img alt="font-cli" src="http://i.imgur.com/m0ywZJt.png" /&gt;&lt;/p&gt;
&lt;p&gt;Сделал выделение отдельных отрядов в клетке:&lt;/p&gt;
&lt;p&gt;&lt;img alt="color-picking-01" src="http://i.imgur.com/QYOgFjh.gif" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="color-picking-02" src="http://i.imgur.com/gZHqS4P.png" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="color-picking-03" src="http://i.imgur.com/U0iHH5R.gif" /&gt;&lt;/p&gt;
&lt;!-- vim: set tabstop=4 shiftwidth=4 softtabstop=4 expandtab: --&gt;
</summary><category term="marauder"></category><category term="gamedev"></category></entry><entry><title>Разработка Мародера [2014.03.11 .. 2014.03.16]</title><link href="http://ozkriff.github.io/week-recap-3.html" rel="alternate"></link><updated>2014-03-17T12:00:00+04:00</updated><author><name>ozkriff</name></author><id>tag:ozkriff.github.io,2014-03-17:week-recap-3.html</id><summary type="html">&lt;p&gt;Ну что ж. За эту неделю я почти ничего не сделал, времени на
Мародера было не так уж много.&lt;/p&gt;
&lt;p&gt;Зато сходил на концерт Апокалиптики :) .&lt;/p&gt;
&lt;p&gt;(TODO: КАРТИНКА)&lt;/p&gt;
&lt;p&gt;Сделал простенькое и кривенькое перетаскивание карты средней кнопкой мыши.
Надо будет еще допиливать.&lt;/p&gt;
&lt;p&gt;(TODO: GIF)&lt;/p&gt;
&lt;p&gt;Вернулся к ковырянию шрифтов из kiss3d. Решил переписатьfont-stash на Rust.
Пока сделал только базовые привязки к stb_truetype&lt;/p&gt;
&lt;p&gt;(TODO: скриншот консольной буквы в 30 строк высотой)&lt;/p&gt;
&lt;p&gt;Все свободное время в субботу-воскресение протупил с попытками обновить
cgmath-rs под ночную сборку Ржавчины: изменения с minmax для чисел
с плавающей точкой.&lt;/p&gt;
&lt;p&gt;Пробовал городить страшные вещи с макросами, но пока так и не разобрался.&lt;/p&gt;
&lt;p&gt;Еще потыкал qapitrace и узнал, что gl::GetError надо вызывать после каждого
gl-вызова.&lt;/p&gt;
&lt;p&gt;(TODO: картинка)&lt;/p&gt;
&lt;!-- vim: set tabstop=4 shiftwidth=4 softtabstop=4 expandtab: --&gt;
</summary><category term="marauder"></category><category term="gamedev"></category></entry><entry><title>Разработка Мародера [2014.03.03 .. 2014.03.10]</title><link href="http://ozkriff.github.io/week-recap-2.html" rel="alternate"></link><updated>2014-03-11T12:00:00+04:00</updated><author><name>ozkriff</name></author><id>tag:ozkriff.github.io,2014-03-11:week-recap-2.html</id><summary type="html">&lt;p&gt;Ну, этот понедельник я считаю последним днем недели. Не может у меня
неделя с выходного начинаться, это неправильно как-то.&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Теперь передаю информацию о изменениях размера окна в камеру, теперь
изображение не сжимается по высоте или ширине при изменении размеров окна.&lt;/li&gt;
&lt;li&gt;С горем пополам доделал и закомитил базовую версию поддержки нескольких
отрядов в одной клетке. Правда, пока что выделить или атаковать можно только
первого из них (того, что с индексом 0) и выделение вынесено на кнопку 'S'.&lt;/li&gt;
&lt;li&gt;Задумался о системе слотов в клетке визуализатора.&lt;/li&gt;
&lt;li&gt;Еще наткнулся на блог разработки Cogmind - &lt;a class="reference external" href="http://www.gridsagegames.com/blog"&gt;http://www.gridsagegames.com/blog&lt;/a&gt;.
Выглядит офигенно, но ссылки на альфа версию или чего-то подобное я нигде
не нашел, жалко.&lt;/li&gt;
&lt;li&gt;Реализовал простенькую обертку над конфигурационными файлами.&lt;/li&gt;
&lt;li&gt;Изменилась система сборки glfw-rs - вбил костыли в make_deps.sh.&lt;/li&gt;
&lt;li&gt;Cmr сказал, что c_str - плохая штука. Заменил на with_c_str(||{...})&lt;/li&gt;
&lt;li&gt;анимации движения теперь не зависят от времени отрисовки кадра.&lt;/li&gt;
&lt;li&gt;И добавил поворот отряда в сторону движения.&lt;/li&gt;
&lt;li&gt;Исправил поворот камеры - теперь скорость вращения камеры не зависиот от
размера экрана: что бы повернуть камеру на 360 градусов по горизонтали
нужно двигать мышкой от левой границы окна до правой, не завсимо от
размера окна.&lt;/li&gt;
&lt;li&gt;Добавил класс MoveHelper, отвечающий за передвижение от точки до точки
со скоростью, не зависящей от количества кадров в секунду, и использовал
его во всех визуализаторах событий.&lt;/li&gt;
&lt;li&gt;Удалил из визуализаторов событий методы 'start' - пускай все в new
делается.&lt;/li&gt;
&lt;li&gt;Добавил к анимации события атаки летящий снаряд. Ну как снаряд, хрень
какую-то :)&lt;/li&gt;
&lt;li&gt;Теперь отряды принадлежат к какому-то из игроков, над отрядами теперь
висят страшненькие флажки.&lt;/li&gt;
&lt;li&gt;На последок запек ambient occlusion вместо, кхм, &amp;quot;текстуры&amp;quot; &amp;quot;танка&amp;quot;.
Теперь намного лучше, как по мне.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;TODO: gif со всеми видимыми изменениями&lt;/p&gt;
&lt;div class="section" id="byzabz"&gt;
&lt;h2&gt;Byzabz&lt;/h2&gt;
&lt;p&gt;Гуглил про выкладывание видео в бложик, наткнулся на упоминания byzanz.
Офигенно, теперь загажу все посты анимированными гифками! :)&lt;/p&gt;
&lt;p&gt;&lt;img alt="byzanz-link" src="TODO" /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="github-streak"&gt;
&lt;h2&gt;Github streak&lt;/h2&gt;
&lt;p&gt;И да, github streak в 61 день, еее!&lt;/p&gt;
&lt;p&gt;&lt;img alt="github-streak-pic" src="http://i.imgur.com/jfKsmWv.png" /&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id2"&gt;
&lt;h2&gt;80 символов хватит каждому!&lt;/h2&gt;
&lt;p&gt;Узнал про 'wc -L *.rs' для поиска самой длинной строчки в куче
файлов, прикольно.&lt;/p&gt;
&lt;p&gt;&lt;img alt="wc-l-example-pic" src="TODO" /&gt;&lt;/p&gt;
&lt;!-- vim: set tabstop=4 shiftwidth=4 softtabstop=4 expandtab: --&gt;
&lt;/div&gt;
</summary><category term="marauder"></category><category term="gamedev"></category></entry><entry><title>Разработка Мародера [2014.01.03 .. 2014.02.23]</title><link href="http://ozkriff.github.io/pre.html" rel="alternate"></link><updated>2014-02-28T00:00:00+04:00</updated><author><name>ozkriff</name></author><id>tag:ozkriff.github.io,2014-02-28:pre.html</id><summary type="html">&lt;p&gt;Тому, что есть на данный момент до игры еще очень далеко. Пока что, по шкале
от &amp;quot;демо OpenGL приложение с вращающимся полигоном&amp;quot; до &amp;quot;X-COM, HoMM,
Кодекс Войны и др. большие пошаговые игры, которые пришли сходу мне в голову&amp;quot;
Мародер находится на минимальном отдалении от левого края.&lt;/p&gt;
&lt;p&gt;На проект я потратил полтора месяца по часу-другому в день.
Большую часть времени я изучал и игрался с Ржавчиной (которая язык
программирования) и изучивал-вспоминал основы OpenGL.&lt;/p&gt;
&lt;p&gt;Есть стремная тестовая модель (вроде как танка), слепленная в блендере за пару
минут и покрашенная там же, что бы проверить, как натягиваются текстуры:&lt;/p&gt;
&lt;p&gt;&lt;img alt="ugly-tank-pic" src="http://i.imgur.com/Qw9WsSm.png" /&gt;&lt;/p&gt;
&lt;p&gt;Других видов отрядов нет.&lt;/p&gt;
&lt;p&gt;Текстурки - png. Модельки - .obj (самый простой формат, что я знаю).&lt;/p&gt;
&lt;p&gt;Есть карта из одинаковых шестиугольников серого цвета. В каждой клетке
может находиться один отряд.&lt;/p&gt;
&lt;p&gt;Работает простенькое выделение мышкой (color picking).&lt;/p&gt;
&lt;p&gt;По кнопке 'U' (_u_nit) в клетке, на которую указывает мышка, появляется новый
отряд. Появляется при помощи простенькой анимации - поднимается из-под земли.
Такие вот зомби-танки.&lt;/p&gt;
&lt;p&gt;Отряды можно выделять кликом по клетке, но визуально это никак не отображается.&lt;/p&gt;
&lt;p&gt;Выделенному отряду можно отдать приказ двигаться, кликнув по пустой клетке, но
путенахождение не реализовано, так что он просто полетит по прямой к
нужной клетке.&lt;/p&gt;
&lt;p&gt;Выделенному отряду можно дать команду атаковать, наведя мышку на другой отряд
и нажав клавишу 'A' (_a_ttack). Очков здоровия, брони, точности и т.д.
нет, атакованный отряд просто сразу умирает.
Анимация смерти является противоположностью анимации появления - отряд
уходит под землю. Очков действий у отрядов нет, атаковать они могут любое
количество раз.&lt;/p&gt;
&lt;p&gt;По нажатию кнопки 'T' (end _t_urn) ход переходит к следующему игроку (хот сит)
и ему показываются результаты действий противников. Отряды не
принадлежат к какому-либо игроку и каждый игрок может отдавать приказы любому
отряду.&lt;/p&gt;
&lt;p&gt;Строчек кода на все это:
[TODO вставить сюда &amp;quot;wc -l *.rs&amp;quot; по всем файлам в нужной версии]&lt;/p&gt;
&lt;p&gt;Собирается под линуксом на ночной сборке компилятора Ржавчины.
Настроена автосборка на travis-ci.org и я стараюсь не давать коду отстать от
ночной сборки компилятора больше, чем на день.&lt;/p&gt;
&lt;p&gt;Исходники хранятся на гитхабе &lt;a class="reference external" href="https://github.com/ozkriff/marauder"&gt;https://github.com/ozkriff/marauder&lt;/a&gt;, для текстур
и моделей отдельный репозиторий - &lt;a class="reference external" href="https://github.com/ozkriff/marauder-data"&gt;https://github.com/ozkriff/marauder-data&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Вооооот, так что делать мне еще очень и очень и очень много. :)&lt;/p&gt;
&lt;!-- vim: set tabstop=4 shiftwidth=4 softtabstop=4 expandtab: --&gt;
</summary><category term="marauder"></category><category term="gamedev"></category></entry></feed>