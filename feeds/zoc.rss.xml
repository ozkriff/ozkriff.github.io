<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Зона Контроля</title><link>http://ozkriff.github.io/</link><description></description><atom:link href="http://ozkriff.github.io/feeds/zoc.rss.xml" rel="self"></atom:link><lastBuildDate>Fri, 29 Jan 2016 00:00:00 +0300</lastBuildDate><item><title>Работа над Зоной Контроля</title><link>http://ozkriff.github.io/2016-01-29--devlog.html</link><description>&lt;p&gt;Defuz предложил, пока я веду журнал в гисте, пинговать о записях в &lt;a class="reference external" href="https://gitter.im/ozkriff/zoc"&gt;https://gitter.im/ozkriff/zoc&lt;/a&gt;,
что был способ оставлять коменты и узнавать об обновлениях.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Немного поправил геометрию &lt;a class="reference external" href="https://www.google.ru/search?q=mammoth+tank&amp;amp;tbm=isch"&gt;мамонт танка&lt;/a&gt;:&lt;/p&gt;
&lt;img alt="" src="http://i.imgur.com/WT8GoOa.png" /&gt;
&lt;p&gt;Но сильно возиться с ним не хочется - мне просто нужен какой-то огромный юнит на всю
клетку, что бы не забыть про них совсем)&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;С вертолетом тоже пока заканчиваю вот на такой стадии:&lt;/p&gt;
&lt;img alt="" src="http://i.imgur.com/SmH0l9V.png" /&gt;
&lt;p&gt;Кстати, на заднем плане, за вертолетом, обрезанные здания виднеются.
Примерно так, если что, подумываю рисовать здания в которых кто-то есть.&lt;/p&gt;
&lt;p&gt;В режиме рендера каркас не рисуется, вообще палки сверху еще должны быть:&lt;/p&gt;
&lt;img alt="" src="http://i.imgur.com/JkyABzz.png" /&gt;
&lt;p&gt;(на вписаную и описаную окружности внимание обращать не надо,
это просто вспомогательные конструкции для размещения зданий в макете :) )&lt;/p&gt;
&lt;p&gt;Может еще контуры окон-дверей потом добавлю.&lt;/p&gt;
&lt;p&gt;В Battle Academy здания с людьми внутри рисуются полупрозрачными,
но на деле (для меня, конечно) это очень криво выглядит и ничего не понятно =:&lt;/p&gt;
&lt;img alt="" src="http://i.imgur.com/6sWmGTH.png" /&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;О, внезапное (эти тоже все обещают &amp;quot;начать вести бложик более постоянно&amp;quot;, хех)
обновление в тихом и уютном бложике разработчиков моей любимой
Unity of Command:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://unityofcommand.net/blog/2016/01/28/dev-diary-3-are-you-experienced"&gt;http://unityofcommand.net/blog/2016/01/28/dev-diary-3-are-you-experienced&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Тут говорится о том, что во второй части игры войска надо будет беречь,
потому что они будут переходить из сценария в сценарий.
Ну и о тонкостях накопления ими опыта рассказывается.&lt;/p&gt;
&lt;p&gt;Вот, вроде, это клево и логично, что тебя принуждают не разбрасываться
армией просто так. Но что-то в первой части UoC
было приятно освобождающее в том, что ты мог пожертвовать чем угодно,
лишь бы выполнить боевые задачи в срок.
Да и в относительно недавно пройденной мной Battle Academy 2 так же.
Эх, теперь, наверное, надо будет на каждым отрядом трястись =.&lt;/p&gt;
&lt;p&gt;В более масштабном Кодексе Войны или даже Битве за Веснот меня
необходимость побеждать без потерь сильно раздражала. Тоже интересно, конечно,
но там надо было выигрывать почти всегда без потери единого отряда, разве что
совсем уж мелочью дешевой жертвовать.&lt;/p&gt;
&lt;p&gt;С одной стороны, это как-то не слишком реалистично, как по мне, в жизни так не бывает).&lt;/p&gt;
&lt;p&gt;С другой, это создает прямую связь между сценариями: хорошо играешь -
потом побеждать тоже проще, плохо играешь - дальше только сложнее будет.
Это занятная метаигра, но не без неприятных нюансов:
ты заранее не знаешь, какой процент потерь
допустим, так что если есть возможность переиграть сценарий, то лично
я обычно переигрываю до тех пор, пока не пройду практически без потерь,
а то мало ли что в следующих сценариях меня ждет?
Даже виноватым себя чувствовал, если начинал новый сценарий без
идеального прохождения прошлого.
Это несколько вытягивает удовольствие из игры для меня.&lt;/p&gt;
&lt;p&gt;Лично мои любимым решением этой сложности является перманентная смерть
(когда сохранение только одно и только автоматическое), как в новом X-COM, например.
У тебя просто нет возможности переигрывать сценарии, так что из-за этого
совесть не мучает и просто стараешься аккуратно играть, лишний раз не подставляя ценных
ветеранов под риск.&lt;/p&gt;
&lt;p&gt;Ладно, посмотрим как тут сделают, может пермадез будет, может условия выигрыша в
сцерании будут оговаривать какой-то допустимый процент потерь,
или в каждом новом сценарии будут выдавать
большое количество &amp;quot;казеных&amp;quot; отрядов, или еще что такое :) .&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ozkriff</dc:creator><pubDate>Fri, 29 Jan 2016 00:00:00 +0300</pubDate><guid>tag:ozkriff.github.io,2016-01-29:2016-01-29--devlog.html</guid><category>devlog</category><category>zoc</category></item><item><title>Работа над Зоной Контроля</title><link>http://ozkriff.github.io/2016-01-28--devlog.html</link><description>&lt;p&gt;Моя последняя попытка вести нормальный журнал &lt;a class="reference external" href="https://github.com/ozkriff/ozkriff.github.io-src/blob/master/content/2015-11-30--devlog-live-again.rst"&gt;провалилась&lt;/a&gt; :) .&lt;/p&gt;
&lt;p&gt;Времени жрет дикое количество. Не умею я, как некоторые люди могут, за пол часа накатать красивую страницу текста :( .
После того поста вел каждодневные записи в файлике, что я по проекту делаю, что бы потом из них пост слепить.
Через месяц, под новый год таки попробовал - просидел три вечера за этим занятием, задолбался и решил что обойдусь без блога)&lt;/p&gt;
&lt;p&gt;Так что попробую теперь вести хоть какой-то журнал, в виде маленьких слабо-организованных записей.
Как я себе в файлик писал, вот так же - каждый день, если хоть чего-то делал про Зоку,
писать что делал, как прошло и какие у меня мысли вообще возникают.
Авось кому-нибудь да и будет интересно полистать.
Ну и мне потом, наверное, забавно перечитать когда-нибудь будет и вспомнить, какой я был дурной)&lt;/p&gt;
&lt;p&gt;Собственно, это первая запись :) . Хотя думаю, добавлю пару записей задним числом из недавних разговоров - про тот же план работ.&lt;/p&gt;
&lt;p&gt;Для начала пускай это дело просто в gist'е живет - каждый день новый файлик. Лениво с полноценным блогом для такого заморачиваться.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Заготовка вертолета, гм:&lt;/p&gt;
&lt;img alt="" src="http://i.imgur.com/wfF0Z0Q.png" /&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;В фоне потихоньку вожусь с удалением констант с индексами из кода сцены (&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/154"&gt;#154&lt;/a&gt;).
Сами константы удалил, теперь все получается динамически, но при
движении отрядов или переходе хода оно падает. Надо искать, что я там напутал)&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ozkriff</dc:creator><pubDate>Thu, 28 Jan 2016 00:00:00 +0300</pubDate><guid>tag:ozkriff.github.io,2016-01-28:2016-01-28--devlog.html</guid><category>devlog</category><category>zoc</category></item><item><title>Работа над Зоной Контроля</title><link>http://ozkriff.github.io/2016-01-27--devlog.html</link><description>&lt;p&gt;Знакомый скинул ссылку на вполне себе интересную &lt;a class="reference external" href="https://www.reddit.com/r/gamedev/comments/426148"&gt;серию статей в реддите&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Хм, ну базовый цикл у меня близок к цивилизации - &amp;quot;Select unit, move unit, combat/gather, repeat.&amp;quot;
у меня тоже ты &amp;quot;выбираешь отряд, двигаешь/атакуешь/используешь навык, заново&amp;quot;.&lt;/p&gt;
&lt;p&gt;прототип - я большую часть механики беру из игры Battle Academy, так что она уже служит начальным прототипом)
Плюс, я вот сейчас &amp;quot;отыгрываю&amp;quot; игру в блендере на макете игры.
Туман войны так не симулируешь, а вот базовую логику сражений - вполне.
Так-то у меня само приложение сейчас и в ближайшее время, как по нему и видно, на стадии прототипа -
практически никакого интерфейса, эффектов, анимацией и т.п
только игровая логика, всплывающие текстовые надписи и бааазовая визуализация.&lt;/p&gt;
&lt;p&gt;как оно сейчас есть оно мне нравилось более-менее, но при попытке сделать карту побольше я понял,
что города выглядят страшно криво и бесят меня
вот и задумался над переделкой механики - в итоге увеличил клетки&lt;/p&gt;
&lt;p&gt;Те же технические моменты, типа перехода на glium, я на потом откладываю.
Собственно, главное что бы оно на андроиде работало и я мог проверять игру на планшете - в первую очередь для тыкалок же делается.&lt;/p&gt;
&lt;p&gt;И да, все это - тактический режим, поверх которого должен быть еще стратегический с глобальной картой.
Но с стратегическим я пока решил не запариваться сильно, потому что тактический должен быть цельной игрой сам по себе.&lt;/p&gt;
&lt;p&gt;Стратегический в итоге должен как-то так выглядеть:&lt;/p&gt;
&lt;img alt="" src="http://i.imgur.com/uMQPqhY.jpg" /&gt;
&lt;p&gt;и определять контекст для тактических сражений.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;перехожу ко второй статье)&lt;/p&gt;
&lt;p&gt;вчера утром знакомому уже писал свой план на ближайший месяц-два&lt;/p&gt;
&lt;p&gt;сделать в блендере модельки-прототипы базовых видов солдат-техники, затем изменить код игры,
что бы оно поддерживало три слота, вклячить в игру здания и дороги, затем вклячить новые виды
юнитов с базовой математикой боя для них и добавить условия победы в режиме хотсит.
Что бы в итоге в это можно было играть полноценно.&lt;/p&gt;
&lt;p&gt;Предполагается, что это все где-то на месяц.
Хочу сосредоточиться на получении чего-то играбельного, пускай и технически убогого и вообще схематического.&lt;/p&gt;
&lt;p&gt;Когда это сделаю, тогда в планах сначала переход на glium, затем сетевая игра.&lt;/p&gt;
&lt;p&gt;А дальше план уже более размытый:
добавить редактор карт, загрузки-сохранения, кое-какие спецэффекты
довести тактический режим до вида &amp;quot;не очень стыдно показать обычному знакомому, который играет в игры, но в их производстве вообще ничего не понимает&amp;quot;
и потом начать работать над стратегическим режимом.&lt;/p&gt;
&lt;p&gt;Точное время на задачи я даже не буду пытаться прикинуть, все равно долго выйдет.
Думаю категориями &amp;quot;вот до такой стадии было бы неплохо добраться через два месяца, это еще через месяц-другой&amp;quot;.&lt;/p&gt;
&lt;p&gt;&amp;quot;Are you disciplined enough to stay 100% productive over that amount of time?&amp;quot; -
гм, 100% буду время от времени забрасывать к чертям проект на неделю-другую
как на новый год) а то так с ума сойдешь)
но даже в такие перерывы я где-то в фоне все равно продолжаю думать на зоком, так что уверен, что сам проект не брошу.&lt;/p&gt;
&lt;p&gt;Да, наверное стоит создать суперзадачу на гитхабе &amp;quot;Закончить прототип тактического режима&amp;quot;
с более-менее детальным списком дел в масштабе день-неделя.
Постепенное проставление галочек и правда должно мотивировать, я люблю такие штуки))&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Перехожу к третьей части, про мотивацию - важная штука)&lt;/p&gt;
&lt;p&gt;у меня один из способов мотивировать себя - написание всего этого дела на ржавчине) все-таки интересный язык сам по себе.
клево с ним разбираться, но и времени на это уходит сильно больше, чем если бы я просто на плюсах написал то же самое,
даже свой простенький графический движок.
Но мне так не хочется еще и в свободное время пачкать руки в плюсах))&lt;/p&gt;
&lt;p&gt;Хм, у меня, наверное, два больших источника вдохновения - это стратегические игры,
типа Unity of Command, Battle of the Bulge, В Тылу Врага, Close Combat, Uniwar и т.п.
Когда дело ну вообще никак не идет, то я хотя бы на вечер забиваю на zoc совсем и сажусь
как следует в чего-нибудь стратегическое поиграть. В процессе почти всегда появляются мысли
вроде &amp;quot;черт, сюда бы такую-то возможность добавить, вот было бы круто&amp;quot;)&lt;/p&gt;
&lt;p&gt;И еще схемки - или нарисованные на бумаге&lt;/p&gt;
&lt;img alt="" src="http://i.imgur.com/EfK9lMD.jpg" /&gt;
&lt;img alt="" src="http://i.imgur.com/CLyuRLy.png" /&gt;
&lt;p&gt;в таком духе, я их мноооого рисую когда думаю)&lt;/p&gt;
&lt;p&gt;или макеты в блендере, как вот который сейчас делаю потихоньку&lt;/p&gt;
&lt;img alt="" src="http://i.imgur.com/6V73Ouw.png" /&gt;
&lt;p&gt;Смотришь на это дело и сразу представляешь, как было бы клево, если бы оно могло &amp;quot;ожить&amp;quot;.
Что бы вон та артиллерия могла дать залп дымовыми перед вражеским городом, эта пехота забраться
в броневики и ломануться навстречу, а вон те танки в это время при поддержке вертолетов зашли
в бок и подавили бы с расстояния часть сил врага и блаблабла))&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ozkriff</dc:creator><pubDate>Wed, 27 Jan 2016 00:00:00 +0300</pubDate><guid>tag:ozkriff.github.io,2016-01-27:2016-01-27--devlog.html</guid><category>devlog</category><category>zoc</category></item><item><title>Работа над Зоной Контроля</title><link>http://ozkriff.github.io/2016-01-26--devlog.html</link><description>&lt;p&gt;Недавно тут наткнулся на &lt;a class="reference external" href="http://www.progamer.ru/dev/handicaps.htm"&gt;статью про гандикапы&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Может для сетевого режима ЗК замена обычных рейтингов на уменьшающиеся при
победах гандикапы (форы) и не такая глупая идея. Все-таки вполне себе
способ повысить интерес при игре с сильно отличающимся по уровню игры противником.&lt;/p&gt;
&lt;p&gt;Например, банально давать меньше стартовых очков.
Тогда и рейтинг можно упразднить, вместо него использовать размер гандикапа).
Типа, когда начинаешь играть, твой рейтинггандикап - 200%.
Т.е. у тебя, допустим, 200% стартовых очков, а у топовых игроков будет рейтинггандикап в 60% или типа того.
Правда тупо менять количество стартовых очков - слишком дуболомное решение, надо чего-то более хитрое придумать.&lt;/p&gt;
&lt;p&gt;Для игры со знакомыми можно просто договориться и не тратить все очки или еще какое условие поставить,
но это как-то &amp;quot;не круто&amp;quot;. Пробовал много раз так делать со знакомыми, но, обычно, весело не было.
Появляется какое-то чувство кустарности, которое меня порядочно нервирует.
Еще вручную за договоренностями бывает сложно следить.
Точно помню пару раз, как я &amp;quot;ой, так у меня же полторы тыщи очков, чего я туплю?
Вооот, тут покупаю крейсер и он всех выносит, бббабах! ..ой, черт&amp;quot;.
Ну и интересный домашний гандикап еще надо придумать, что бы игра не поломалась как система.&lt;/p&gt;
&lt;p&gt;Надо посмотреть, как это дело в более традиционном спорте используется.
В Go вон вообще всякой хитроты &lt;a class="reference external" href="https://ru.wikipedia.org/wiki/%D0%A4%D0%BE%D1%80%D0%B0#.D0.A4.D0.BE.D1.80.D0.B0_.D0.B2_.D0.B3.D0.BE"&gt;понапридумывали&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Подумал-подумал и пока решил, что если и планировать такое, то только в виде параллельного обычному
рейтинговому топа, в порядке эксперимента, а то слишком уж тут много тонкостей у этого подхода.&lt;/p&gt;
&lt;p&gt;Но это так, мысли про далекое будущее все :) .&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ozkriff</dc:creator><pubDate>Tue, 26 Jan 2016 00:00:00 +0300</pubDate><guid>tag:ozkriff.github.io,2016-01-26:2016-01-26--devlog.html</guid><category>devlog</category><category>zoc</category></item><item><title>Работа над Зоной Контроля</title><link>http://ozkriff.github.io/2016-01-25--devlog.html</link><description>&lt;p&gt;Сунулся наконец-то выложить zoc на crates.io.
А, оказывается, даже если пакеты лежат в одном репозитории, их надо выкладывать на
crates.io отдельно.&lt;/p&gt;
&lt;p&gt;Посмотрел gfx - они тоже каждый пакет, оказывается, отдельно выкладывают :( .
Эх, совсем не хочется загаживать crates.io своими бессмысленными пакетами, они явно никому не пригодятся.&lt;/p&gt;
&lt;p&gt;Можно бы на модули разбить, а не пакеты, но так инкрементальная сборка будет опять занимать
минуту и сложности с привязками к OpenGL возникают.&lt;/p&gt;
&lt;p&gt;Нафиг тогда выкладывание на crates.io, пока на glium не перейду.
Мне не так сильно этот crates.io и нужен, просто немного неприятно, что про твой код забывают
при проверке всяких поломок при обновлениях библиотек.
Ну да ничего, пару месяцев уж потерплю.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Возился в связи с этим с Cargo.toml и Cargo.lock.
Хоспади, ну все-таки как мне не нравится этот TOML. =(&lt;/p&gt;
&lt;p&gt;Он в некоторых случаях и правда неплохо справляется, но при работе с ним все время чувство костылей есть.
Как-то у него фокус на частности, а не на нормальное обобщенное решение.
В целом ничего формат, особенно для простых конфигов, но вот синтаксис таблиц
меня ужасает.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ozkriff</dc:creator><pubDate>Mon, 25 Jan 2016 00:00:00 +0300</pubDate><guid>tag:ozkriff.github.io,2016-01-25:2016-01-25--devlog.html</guid><category>devlog</category><category>zoc</category></item><item><title>Перезапуск журнала</title><link>http://ozkriff.github.io/2015-11-30--devlog-live-again.html</link><description>&lt;p&gt;Насмотрелся я тут на журналы &lt;a class="reference external" href="http://reangdblog.blogspot.com"&gt;reangd&lt;/a&gt;, &lt;a class="reference external" href="http://www.gridsagegames.com/blog"&gt;cogmind&lt;/a&gt;, &lt;a class="reference external" href="https://eao197.blogspot.ru"&gt;eao197&lt;/a&gt; и всякие
другие, решил что тоже чего-нибудь хочу писать.
С последней моей попытки прошло около полутора лет)&lt;/p&gt;
&lt;p&gt;Итак, на момент написания прошлой заметки я работал над Миром Кораблей в
&lt;a class="reference external" href="https://wargaming.com/ru/about/our-locations/saint-petersburg"&gt;питерском wargaming.net&lt;/a&gt;.
Собственно, я успел уйти оттуда, поработать над казуалками в
&lt;a class="reference external" href="http://zillionwhales.ru"&gt;Zillion Whales&lt;/a&gt;, оттуда тоже уйти и осесть в
&lt;a class="reference external" href="protei.ru"&gt;Протее&lt;/a&gt;. Так что сейчас я ковыряю ip-телефонию и все игры теперь только
в свободное время, зато не надо каждый день &amp;quot;любоваться&amp;quot; на ужасы фритуплея)&lt;/p&gt;
&lt;p&gt;Я больше не студент, совсем - наконец-то закончил заочку в политехе,
ура-ура! :-D
Темой диплома как раз и был этот проект, даже &lt;a class="reference external" href="pdfs/lesnikov_a_a_slides_2015.pdf"&gt;презентация&lt;/a&gt; вот завалялась.
Хотя ничего особо крутого, как мне изначально хотелось, на деле не вышло.
Ключевым моментом диплома являлся ИИ. Я там подробно расписал
какие они бывают и какие виды подходят для каких игр.
А вот реализовать полноценный не успел - сдавался вариант, который только
формально можно было назвать &amp;quot;практичным ИИ&amp;quot;
(извиняюсь, но лучшего перевода для &amp;quot;utility-based AI&amp;quot; не нашел.
&amp;quot;ИИ, основанный на теории полезности&amp;quot; как-то длинновато).
Он примерял к текущему состоянию игры захардкоженные шаблоны
на основе позиций и типов отрядов, оценивал
коэффециент их полезности, и втупую применял их.
На специально подготовленных ситуациях выглядело не так и плохо,
но это отмазочный вариант, конечно. И с очень стремным кодом,
так что в git'е сейчас так и лежит
базовый &amp;quot;ИИ&amp;quot; - подъехать в на расстояние выстрела и стрелять :-| .
Но общий обыт был интересным)&lt;/p&gt;
&lt;p&gt;Сама ржавчина, конечно, за это время сильно выросла, с 0.10 аж до 1.4.
Вместо извращений по установке зависимостей или возни с git submodules,
появился cargo.
По достижении 1.0 появилась обратная совместимость. Хотя конкретно от
этого я и не в полном восторге, руки у авторов языка теперь &amp;quot;полусвязаны&amp;quot;,
но переписываний и правда стало меньше,
только когда библиотеки чего-то ломают. Да и с этим Cargo.lock очень
помогает. Хотя, я уже месяца полтора его не обновлял - ух и сложный
же следующий &lt;tt class="docutils literal"&gt;cargo update&lt;/tt&gt; у меня будет.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;За полтора года я успел переиграть много во что повлияевшего
на мое видение пошаговых стратегий, например:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;малоизвестная &lt;a class="reference external" href="https://store.steampowered.com/app/306640"&gt;Battle Academy 2&lt;/a&gt; из которой я решил фактически
передрать ядро механики для тактического режима :) - взаимодействие
видов войск, быстрое/осторожное передвижение, хитрая видимость,
реакционный огонь, боевой дух/подавление и т.п.;&lt;/li&gt;
&lt;li&gt;чуть более известная &lt;a class="reference external" href="https://store.steampowered.com/app/218090"&gt;Unity of Command&lt;/a&gt; повлияла на мое видение
стратегического режима - хитрая система линий снабжения, механика
окружений и т.п.;&lt;/li&gt;
&lt;li&gt;мобильная &lt;a class="reference external" href="https://play.google.com/store/apps/details?id=android.uniwar"&gt;Uniwar&lt;/a&gt; - классная система параллельных сетевых игр,
а сама по себе игровая механика напоминает, что шестигранникам
минимализм никогда не помешает;&lt;/li&gt;
&lt;li&gt;серия Wargame, а именно &lt;a class="reference external" href="https://store.steampowered.com/app/222750"&gt;W:AB&lt;/a&gt; и &lt;a class="reference external" href="https://store.steampowered.com/app/251060"&gt;W:RD&lt;/a&gt; - одна из немногих стратегий в
реальном времени, в которую я с удовольствием поиграл за долгое время.
Интересна своим балансом между реализмом/&amp;quot;веселостью&amp;quot; и взаимодействием
между разными видами войск.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Много думал про пошаговые игры без клеток, все-таки у клеток много
недостатков/особенностей. Даже немного экспериментировал - сделал
простенькое путенахождение по вручную размеченной навигационной сетке:&lt;/p&gt;
&lt;img alt="Пример простого путенахождения на вручную размеченной сетке" src="images/2015-07-30--manual-navmesh-simple-pathfinding.png" /&gt;
&lt;p&gt;Путь проложен по центрам треугольников, для оптимизации потом хотел
прикрутить &lt;a class="reference external" href="http://digestingduck.blogspot.ru/2010/03/simple-stupid-funnel-algorithm.html"&gt;funnel algorithm&lt;/a&gt;, но до этого этапа не дошло.
Если что, шестигранники тут уже ничего не значат, просто
на основе работающего прилжожения экспериментировал.
Затем, написал простенький &amp;quot;наращиватель&amp;quot; препятствий, который
в зависимости от величины угла добавлял разное количество
вспомогательных отрезков:&lt;/p&gt;
&lt;img alt="Пример нарощенного препятствия" src="images/2015-08-02--obstacle-grow.png" /&gt;
&lt;p&gt;Предполагалось, что все юниты будут поделены на несколько групп
по размерам и для каждой группы будет поддерживаться своя сетка.
Непосредственно преобразованием массива таких &amp;quot;жирных&amp;quot; препятствий в сетку
должен был заниматься триангулятор. Мне большего всего приглянулся плюсовый
&lt;a class="reference external" href="https://code.google.com/p/poly2tri"&gt;poly2tri&lt;/a&gt;:&lt;/p&gt;
&lt;img alt="Всякие стандартные примеры из poly2tri" src="images/2015-08-11--triangulation-cpp-demo.png" /&gt;
&lt;p&gt;Даже пытался портировать его на ржавчину, но там очень стремная работа с
памятью, очень хреново укладывается в модель ржавчины.
Пробовал переделать плюсовую версию на работу с массивами и индексами,
но потом решил что очень уж много на эксперимент уходит времени, энтузиазм
про бесклеточные игры прошел, так что я совсем забросил попытку.&lt;/p&gt;
&lt;p&gt;Ну да ладно, темы вдохновляющих игр, разных видов клеток и непрерывного
пространства достойны отдельных заметок, а эта запись и так большой
получается.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Теперь, наконец-то, что касается самого проекта.&lt;/p&gt;
&lt;p&gt;Прежде всего, он переименован из Марoдера в Зону Контроля (Zone of Control).
Сокращенно - ЗК/ZoC. Гитхабовское хранилище переехало в
&lt;a class="reference external" href="https://github.com/ozkriff/zoc"&gt;https://github.com/ozkriff/zoc&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Внешний вид с момента сдачи диплома изменился слабо и выглядит все это
безобразие сейчас как-то так:&lt;/p&gt;
&lt;div class="youtube"&gt;&lt;iframe
    frameborder="0"
    allowfullscreen
    src="https://www.youtube.com/embed/srJAfngSwxk?color=white&amp;rel=0&amp;showinfo=0"
&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;p&gt;Собственно, да, я портировал это на android, хотя под линуксом и виндой тоже
должно работать.
Спасибо Skligus'y за его &lt;a class="reference external" href="https://github.com/skligys/rusty-cardboard"&gt;rusty-cardboard&lt;/a&gt;, очень помогло поначалу,
и Tomaka за его &lt;a class="reference external" href="https://github.com/tomaka/glutin"&gt;glutin&lt;/a&gt; и &lt;a class="reference external" href="https://github.com/tomaka/android-rs-glue"&gt;android-rs-glue&lt;/a&gt;.
К сожалению, для сборки под андроид требуется ночная сборка rustc, потому
что в android-rs-glue используются какие-то нестабильные штуки.
Хотя надо перепроверить, может уже и стабильного компилятора хватит
- ржавчина так быстро развивается :).&lt;/p&gt;
&lt;p&gt;Кстати, да, переписал с glfw-rs на &lt;a class="reference external" href="https://github.com/tomaka/glutin"&gt;glutin&lt;/a&gt; - чем больше кода на ржавчине,
тем прощe, особенно при сборке на разных платформах.
Еще хотел со своих &lt;a class="reference external" href="https://github.com/ozkriff/zoc/tree/47e8f0/src/zgl/src"&gt;костылей вокруг OpenGL&lt;/a&gt; перейти на &lt;a class="reference external" href="https://github.com/tomaka/glium"&gt;glium&lt;/a&gt;,
но пока не осилил.&lt;/p&gt;
&lt;p&gt;Переделал с выделения через цветовой буфер на чистую математику
- пересечение луча из курсора с плоскостью карты, бла бла блап.
Уж очень много от времени отрисоки кадра оно сжирало, да и с шейдерами
так меньше хлопот.&lt;/p&gt;
&lt;p&gt;Но это все про техническую часть. Что касается самой игры, то:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;два захардкоженых режима на одной карте с одним набором войск
- против тупого ИИ или хотсит на двух игроков;&lt;/li&gt;
&lt;li&gt;от одного до пяти членов отряда в клетке -
отказался от идеи иметь несколько отрядов в слотах одной клетки,
потому что так и не придумал, как это все нормально отображать
и как этим управлять. Хотя, при введении зданий и летающих отрядов,
наверное, придется тут усложнить ситуацию;&lt;/li&gt;
&lt;li&gt;до двух активных очков атаки для стрельбы по прямому приказу игрока;&lt;/li&gt;
&lt;li&gt;одно пассивное очко атаки для реакционного огня в чужой ход (как в x-com)
+ неиспользованные в свой ход активные очки атаки становятся пассивными;&lt;/li&gt;
&lt;li&gt;вероятность поражения с (пока что) захардкожеными вероятностями попадания
в зависимости от типа атакующего, защищающегося и местности;&lt;/li&gt;
&lt;li&gt;кривоватый туман войны, который впоследствии, видимо, будут переведен
на менее дискретный алгоритм;&lt;/li&gt;
&lt;li&gt;заготовка системы боевого духа и подавления - каждый ход
восстанавливается 10 очков морали, за каждую атаку снимается
по 10, если мораль падает ниже половины - отряд не может стрелять;&lt;/li&gt;
&lt;li&gt;разная стоимость движения по местности для разных отрядов;&lt;/li&gt;
&lt;li&gt;два режима передвижения - быстрый и осторожный, который стоит в два
раза дороже, зато не накладывает штрафы на точность при стрельбе
и при попадании под огонь отряд не лишается оставшихся очков движения;&lt;/li&gt;
&lt;li&gt;тестовый грузовик для транспортировки пехоты;&lt;/li&gt;
&lt;li&gt;механика видимости из BA2 с двумя радиусами - &amp;quot;нормальная&amp;quot; и &amp;quot;отличная&amp;quot;
видимость. Последняя позволяет увидеть скрытые юниты (например, пехоту в лесу);&lt;/li&gt;
&lt;li&gt;атаки из засад, если атакующий изначально невидим, с бонусом к атаке и
шансом не раскрыть свою позицию;&lt;/li&gt;
&lt;li&gt;приказ &amp;quot;не стрелять&amp;quot; для отключения реакционного огня при организации
хитрых засад или для разведчиков;&lt;/li&gt;
&lt;li&gt;пока что только четыре вида отрядов:&lt;ul&gt;
&lt;li&gt;пехота - четыре человека, одна клетка отличной видимости,
умеют тихориться в лесу;&lt;/li&gt;
&lt;li&gt;разведчики - как пехота, только всего 2 человека, зато видят
и бегают немного быстрее;&lt;/li&gt;
&lt;li&gt;танк - громко стреляет и толсто бронирован, зато у него вообще
нет отличной видимости (попробуй что через щели в броне рассмотреть)
- без пехотного прикрытия рядом с лесом ему ездить не стоит;&lt;/li&gt;
&lt;li&gt;грузовик - не умеет стрелять, очень хрупкий и подслеповатый, зато
быстрее всех остальных отрядов и может перевозить пехоту;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ну, вот как-то так. Разработка, как видно, сильно &lt;a class="reference external" href="http://mysweetwhomp.fr/private/119228173847/tumblr_noimn4cVks1u4yjir"&gt;затянулась&lt;/a&gt; - я-то хотел
такое уже через пару месяцев иметь, ха!
То ли мне просто лень, то ли времени и правда мало получается выделять,
черт его знает.
Уже мнооого раз полностью терял весь энтузиазм и забрасывал игру на
пару месяев, даже пытался чего-то другое делать.
Но потом возвращался, что бы все-таки надо довести до ума эту чертову ЗК :) .
Да и вышеупомянутые игры сильно помогали с вдохновением)&lt;/p&gt;
&lt;p&gt;Вот, собственно, вся первая запись. Вряд ли я буду теперь пытаться делать
недельные отчеты, скорее буду писать более мелкие заметки по настроению
- регулярность вытягивает из любого дела весь интерес.
Ну и писать тут буду, наверное, не только по делу - смотрите теги :) .&lt;/p&gt;
&lt;!-- vim: set tabstop=4 shiftwidth=4 softtabstop=4 expandtab: --&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ozkriff</dc:creator><pubDate>Mon, 30 Nov 2015 00:00:00 +0300</pubDate><guid>tag:ozkriff.github.io,2015-11-30:2015-11-30--devlog-live-again.html</guid><category>devlog</category><category>zoc</category></item></channel></rss>