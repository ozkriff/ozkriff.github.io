<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>ozkriff's devlog</title><link>http://ozkriff.github.io/</link><description></description><atom:link href="http://ozkriff.github.io/feeds/zoc.rss.xml" rel="self"></atom:link><lastBuildDate>Thu, 17 Aug 2017 00:00:00 +0300</lastBuildDate><item><title>ZoC is dead. Long life Zemeroth.</title><link>http://ozkriff.github.io/2017-08-17--devlog.html</link><description>&lt;p&gt;Soo, yeah, &lt;a class="reference external" href="https://github.com/ozkriff/zoc"&gt;Zone of Control&lt;/a&gt; project
is officially discontinued.
Sorry, friends.&lt;/p&gt;
&lt;img alt="scene from Pulp Fiction" src="http://i.imgur.com/cONHdvy.png" /&gt;
&lt;p&gt;^ &amp;quot;ZoC's dead, baby. ZoC's dead.&amp;quot;&lt;/p&gt;
&lt;p&gt;Why have I killed it?
The primary reason is classic:
I've overestimated my resources/skills and got totally overwhelmed by the scope:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;I can't see the finish line and had no idea what exactly I can feature-cut.
Strategic mode? Sane UI? Networking? Skeletal animations? Particles?
Ships? Aircrafts? Tens of unit types?
Oh-oh, I don't believe that ZoC could be really cool without
any of these (and some others) features.&lt;/p&gt;
&lt;p&gt;This situation totally drained all my motivation to continue the project.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Slot system (multiple units per tile with fixed positions) is a strange beast.&lt;/p&gt;
&lt;p&gt;1) No idea how to make some friendly user interface:
two panels (for friends and enemies) solution is ugly,
context menus are not cool too.&lt;/p&gt;
&lt;p&gt;2) Slots create problems with visual scale:
infantry models are just too small, especially on phone’s screen.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;&lt;a class="reference external" href="http://i.imgur.com/F6qf4FNl.png"&gt;Maybe I should make an FPS? No, that's stupid.&lt;/a&gt;
Ahem, just joking.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Another reason is that my views on what's is important for strategic games
have changed in the last several years.
Now I prefer &lt;a class="reference external" href="http://keithburgun.net/videogames-are-broken-toys"&gt;smaller&lt;/a&gt;
&lt;a class="reference external" href="http://keithburgun.net/the-default-number-of-players-is-one"&gt;single-player&lt;/a&gt;
games with strong accent on
&lt;a class="reference external" href="http://keithburgun.net/minimalism-vs-elegance"&gt;emergent complexity&lt;/a&gt;.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;So, some farewell screenshots:&lt;/p&gt;
&lt;a class="reference external image-reference" href="http://i.imgur.com/TYoAVj6.png"&gt;&lt;img alt="ZoC gameplay screenshot 1" src="http://i.imgur.com/TYoAVj6m.png" /&gt;&lt;/a&gt;
&lt;a class="reference external image-reference" href="http://i.imgur.com/V4ZPCrT.png"&gt;&lt;img alt="ZoC gameplay screenshot 2" src="http://i.imgur.com/V4ZPCrTm.png" /&gt;&lt;/a&gt;
&lt;a class="reference external image-reference" href="http://i.imgur.com/CKczL44.png"&gt;&lt;img alt="blob shadows" src="http://i.imgur.com/CKczL44m.png" /&gt;&lt;/a&gt;
&lt;p&gt;...And that it.&lt;/p&gt;
&lt;p&gt;Goodbye, my old friend Zone of Control.&lt;/p&gt;
&lt;div class="section" id="zemeroth"&gt;
&lt;h2&gt;Zemeroth&lt;/h2&gt;
&lt;p&gt;There’s one great article:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://makegames.tumblr.com/post/1136623767/finishing-a-game"&gt;http://makegames.tumblr.com/post/1136623767/finishing-a-game&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I have re-read it a dozen times in the last few years.
In the context of ZoC’s fail the most important part of that article is:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Rule 14: IF YOU DO QUIT, SCALE DOWN, NOT UP&lt;/p&gt;
&lt;p&gt;Okay, sometimes it is time to call it quits.
Maybe there’s just no way you’ll ever finish,
and what you have is too big a mess to cut anything out.
Maybe the rest of your team has quit already.
My hope in writing this list is to help people avoid this possibility,
but hey, maybe you’re just coming off of such a project.
And sometimes... shit just happens.&lt;/p&gt;
&lt;p&gt;If there’s no salvaging it, at least make sure that you scale down your next project.
It’s easy to set your sights higher and higher,
even as your projects become less and less finished.
“My SKILLS are improving! I’m learning from my failure,” is a common excuse.
But I think this is why it’s important to treat finishing as a skill, too.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Sounds reasonable to me.
So I need a new much less ambitious project
which still shares some of the ZoC’s core values.&lt;/p&gt;
&lt;p&gt;I’ve spent May and June - in the heavy existential crisis - ahem, resting
and thinking about what can I made.&lt;/p&gt;
&lt;p&gt;Here’s what I came up with:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Random-based skirmish-level digital tabletop game;&lt;/li&gt;
&lt;li&gt;Single player only;&lt;/li&gt;
&lt;li&gt;3-6 fighters under player’s control;&lt;/li&gt;
&lt;li&gt;Short game session (under an hour) and small unscrollable maps;&lt;/li&gt;
&lt;li&gt;Simple vector 2d graphics with just 3-5 sprites per unit;&lt;/li&gt;
&lt;li&gt;Reaction attacks and action’s interruption;&lt;/li&gt;
&lt;li&gt;Highly dynamic (lots of small unit moves as a side effect of other events);&lt;/li&gt;
&lt;li&gt;Intentionally stupid and predictable AI;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Something in between of
&lt;a class="reference external" href="http://store.steampowered.com/app/237990/The_Banner_Saga"&gt;Banner Saga&lt;/a&gt;,
&lt;a class="reference external" href="https://play.google.com/store/apps/details?id=com.magmafortress.hoplite"&gt;Hoplite&lt;/a&gt;,
&lt;a class="reference external" href="http://store.steampowered.com/app/459680/Auro_A_MonsterBumping_Adventure/"&gt;Auro&lt;/a&gt;
and
&lt;a class="reference external" href="http://store.steampowered.com/app/230070/The_Age_of_Decadence/"&gt;Age of Decadence&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Initial svg mockup (based on &lt;a class="reference external" href="http://i.imgur.com/NNQkC1e.png"&gt;my old experiments with 2d ZoC&lt;/a&gt;):&lt;/p&gt;
&lt;img alt="inscape mockup" src="http://i.imgur.com/L8gaqaP.png" /&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Ok, that was just the plan. What's actually done already?&lt;/p&gt;
&lt;p&gt;Here's the code: &lt;a class="reference external" href="https://github.com/ozkriff/zemeroth"&gt;https://github.com/ozkriff/zemeroth&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Right now Zemeroth looks ~ like this:&lt;/p&gt;
&lt;img alt="old Zemeroth's screenshot" src="http://i.imgur.com/EEtIxGp.png" /&gt;
&lt;p&gt;Recent &amp;quot;gameplay&amp;quot; video:&lt;/p&gt;
&lt;div class="youtube"&gt;&lt;iframe frameborder="0" allowfullscreen src="https://www.youtube.com/embed/MVt_UOnmdKI?rel=0&amp;showinfo=0"&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;p&gt;What’s implemented:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;The cornerstone of the game: reaction attacks and movement interruptions;&lt;/li&gt;
&lt;li&gt;Basic infantry unit type;&lt;/li&gt;
&lt;li&gt;Hitpoints;&lt;/li&gt;
&lt;li&gt;Basic AI: move closer and attack;&lt;/li&gt;
&lt;li&gt;Some basic UI with text/image buttons and grouping.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Android is supported from the beginning of the development (as I’m reusing ZoC’s codebase):&lt;/p&gt;
&lt;img alt="zemeroth on android photo" src="http://i.imgur.com/T9EgPR1.png" /&gt;
&lt;p&gt;Zemeroth’s architecture is mostly taken from ZoC (minus the networking and multiple game states):&lt;/p&gt;
&lt;img alt="data loop" src="http://i.imgur.com/9A6GnDKl.jpg" /&gt;
&lt;p&gt;Scene action system is based on cocos’s one and something I did
in dead ZoC’s dev branch:&lt;/p&gt;
&lt;img alt="example of scene actions" src="http://i.imgur.com/ajv6ILN.png" /&gt;
&lt;p&gt;(&lt;a class="reference external" href="https://docs.rs/piston2d-sprite/0.36.0/sprite/enum.Animation.html"&gt;btw, piston has something similar&lt;/a&gt;)&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="hate2d"&gt;
&lt;h2&gt;Häte2d&lt;/h2&gt;
&lt;p&gt;About reusing ZoC’s codebase...&lt;/p&gt;
&lt;p&gt;I’m a fool who don’t learn anything and
totally ignored the third rule from finishing-a-game article:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol class="arabic simple" start="3"&gt;
&lt;li&gt;DON’T ROLL YOUR OWN TECH IF YOU DON’T HAVE TO&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;Say hello to yet another Rust 2d engine: &lt;a class="reference external" href="https://docs.rs/hate"&gt;Häte2d&lt;/a&gt; :-D&lt;/p&gt;
&lt;p&gt;Name is a silly reference to &lt;a class="reference external" href="https://love2d.org"&gt;LÖVE framework&lt;/a&gt; (just in case).&lt;/p&gt;
&lt;p&gt;NOTE: Häte isn’t a general-purpose game engine (at least right now) and it’s not my goal.
Just a simple 2d engine for Zemeroth’s needs.&lt;/p&gt;
&lt;p&gt;Why I haven’t used ggez.rs?&lt;/p&gt;
&lt;p&gt;Quote from reddit:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;#64;pwgen-n1024:
have you seen &lt;a class="reference external" href="https://www.reddit.com/r/rust/comments/6mg02o/ggez_a_rust_library_to_create_good_games_easily/"&gt;this&lt;/a&gt;?
its a löve2d clone in rust, it might allow you to save some work.&lt;/p&gt;
&lt;p&gt;&amp;#64;ozkriff:
Granted, I'm well aware of ggez! :-)&lt;/p&gt;
&lt;p&gt;I'm too lazy to read the docs! NIH syndrome!111 :-D&lt;/p&gt;
&lt;p&gt;Ahem... It's a cool engine and I recommend it whenever anybody asks me about 2d game engines,
but I don't think that ggez's core values match my needs in Zemeroth project:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Ggez tries to mirror Löve as closely as possible but
I don't believe that what's good for highly dynamic Lua is equally good for Rust.&lt;/li&gt;
&lt;li&gt;It seems to me that ggez targets beginners and fast prototype-like
projects but I'm going to invest a lot of time into this project.&lt;/li&gt;
&lt;li&gt;I want the engine to be much more opinionated about UI, scene, etc.&lt;/li&gt;
&lt;li&gt;Right now ggez uses SDL2 (and it's not easy to replace it with glutin)
but I really want to use cargo-apk.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Maybe I was wrong and using geez would be a good idea,
&lt;a class="reference external" href="https://www.reddit.com/r/rust/comments/6nri26//dkbqtiu/"&gt;see Icefoxen’s answer&lt;/a&gt;.
But so far working on Häte was fun and we’ll see what happens later.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;That’s all for today :)&lt;/p&gt;
&lt;p&gt;In case you're wondering, here's full Imgur-devlog
which I'm trying to keep updated: &lt;a class="reference external" href="http://imgur.com/a/SMVqO"&gt;http://imgur.com/a/SMVqO&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;And you can subscribe to instant updates on twitter: &lt;a class="reference external" href="https://twitter.com/ozkriff"&gt;https://twitter.com/ozkriff&lt;/a&gt; ;-)&lt;/p&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ozkriff</dc:creator><pubDate>Thu, 17 Aug 2017 00:00:00 +0300</pubDate><guid>tag:ozkriff.github.io,2017-08-17:2017-08-17--devlog.html</guid><category>devlog</category><category>zoc</category><category>zemeroth</category></item><item><title>This Month in ZoC - 2017.01.24</title><link>http://ozkriff.github.io/2017-01-24--devlog.html</link><description>&lt;p&gt;(Repost from &lt;a class="reference external" href="https://users.rust-lang.org/t/this-month-in-zone-of-control/6993"&gt;https://users.rust-lang.org/t/this-month-in-zone-of-control/6993&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Hi, everyone! :)&lt;/p&gt;
&lt;p&gt;It has been four months since the first post, sorry.
I'm struggling to find enough time for the project plus I was busy with
&lt;a class="reference external" href="https://github.com/tomaka/glutin/issues/813"&gt;porting glutin to winit&lt;/a&gt;
for about a month around October.&lt;/p&gt;
&lt;div class="section" id="helicopters"&gt;
&lt;h2&gt;Helicopters&lt;/h2&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/111"&gt;https://github.com/ozkriff/zoc/issues/111&lt;/a&gt;&lt;/p&gt;
&lt;img alt="helicopters" src="http://i.imgur.com/cW4Sr9q.png" /&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;Helicopters can fly above any terrain or ground units, but can't capture sectors&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Most units can't attack helicopters - &lt;cite&gt;WeaponType&lt;/cite&gt; got &lt;cite&gt;max_air_distance: Option&amp;lt;i32&amp;gt;&lt;/cite&gt; field&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Helicopters can be seen by enemies even in non-visible tiles&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Helicopters have a different field of view rules - their FoV have no 'obstacle shadows':&lt;/p&gt;
&lt;img alt="comparison of land and air field of views" src="http://i.imgur.com/RlEH0IC.png" /&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;IDLE animation:&lt;/p&gt;
&lt;div class="youtube"&gt;&lt;iframe
    frameborder="0"
    allowfullscreen
    src="https://www.youtube.com/embed/wj8ldf7sBRc?color=white&amp;rel=0&amp;showinfo=0"
&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;p&gt;It's not easy for ground units to catch up with a helicopter :) :&lt;/p&gt;
&lt;div class="youtube"&gt;&lt;iframe
    frameborder="0"
    allowfullscreen
    src="https://www.youtube.com/embed/u5yNCP_1G4M?color=white&amp;rel=0&amp;showinfo=0"
&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;p&gt;Haven't got around to implement
&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/226"&gt;AA-guns&lt;/a&gt;
and &lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/226"&gt;Manpads&lt;/a&gt;
yet so the main AA-defence for now is just jeep's machinegun.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="reinforcements"&gt;
&lt;h2&gt;Reinforcements&lt;/h2&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/208"&gt;https://github.com/ozkriff/zoc/issues/208&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Players have no starting forces now - everything is bought
in reinforcement sectors for reinforcement points.&lt;/p&gt;
&lt;p&gt;The upper-left corner displays the amount of reinforcement
points that current player has and their per-turn increment:&lt;/p&gt;
&lt;img alt="Reinforcements" src="http://i.imgur.com/jqlxAZY.png" /&gt;
&lt;p&gt;Reinforcement sectors are marked by two circles in player's color:&lt;/p&gt;
&lt;img alt="Circle marks" src="http://i.imgur.com/bFrBAwN.png" /&gt;
&lt;p&gt;There's an additional &amp;quot;reinforcements&amp;quot; item in the context menu: when clicked it opens a list of available units:&lt;/p&gt;
&lt;img alt="Main context menu" src="http://i.imgur.com/UNpnteQ.png" /&gt;
&lt;p&gt;This opens a list of available units:&lt;/p&gt;
&lt;img alt="Context sub-menu" src="http://i.imgur.com/3Kz0l5W.png" /&gt;
&lt;p&gt;There must be enough reinforcement points and enough room for the unit. Units have no move or attack points at their first turn.&lt;/p&gt;
&lt;p&gt;And, by the way, AI has been taught to buy units too.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="map-selection"&gt;
&lt;h2&gt;Map selection&lt;/h2&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/213"&gt;https://github.com/ozkriff/zoc/issues/213&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;After the implementation of reinforcements it became possible to add map selection.&lt;/p&gt;
&lt;p&gt;You can change map by clicking on the current map's name in the main menu screen:&lt;/p&gt;
&lt;img alt="Main menu" src="http://i.imgur.com/AAN510s.png" /&gt;
&lt;p&gt;It was mostly needed for testing/debugging purposes so most of the maps look like this for now:&lt;/p&gt;
&lt;img alt="Debugging map" src="http://i.imgur.com/4UnfdmC.png" /&gt;
&lt;p&gt;Tests however are in early prototype phase and are not in the repo yet.
Right now they use special maps but I intend to implement some ASCII-DSL like the following:&lt;/p&gt;
&lt;pre class="code literal-block"&gt;
let map = &amp;quot;
    ... ... ... ...
      ... ... ... ...
    ... ... t.. r..
      t.. t.. r.. ..B
    r.A r.. r.. ..C
      ... t.. ... ...
&amp;quot;;
&lt;/pre&gt;
&lt;p&gt;where 't' is a 'trees', 'r' is a road and 'ABC' are positions.&lt;/p&gt;
&lt;p&gt;Tests work by sending hardcoded commands and waiting for specified events in response.
I can't test anything that depends on RNG (attacks mostly) but the movements, FoW, etc are more or less testable.
It can't help with errors in visualizer but it makes it easier for me to refactor the Core.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="auto-deploy-to-github-releases"&gt;
&lt;h2&gt;Auto-deploy to github releases&lt;/h2&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc/pull/246"&gt;https://github.com/ozkriff/zoc/pull/246&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/Gordon-F"&gt;&amp;#64;Gordon-F&lt;/a&gt; has implemented auto-deploy of releases for travis and appveyor.&lt;/p&gt;
&lt;p&gt;Now you can download windows, linux and osx builds for tagged releases here from the &lt;a class="reference external" href="https://github.com/ozkriff/zoc/releases"&gt;github releases page&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Android is totally different story with all its SDKs/NDKs and is still built and uploaded manually.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="wreckages"&gt;
&lt;h2&gt;Wreckages&lt;/h2&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/247"&gt;https://github.com/ozkriff/zoc/issues/247&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Now destroyed vehicles leave wreckages.&lt;/p&gt;
&lt;img alt="Wreckages" src="http://i.imgur.com/0fQW8jQ.png" /&gt;
&lt;p&gt;They only obstruct movement for now. Later they'll be used by infantry as protective covering.&lt;/p&gt;
&lt;p&gt;When particle system will be implemented wreckages will emit smoke and fire.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="towing"&gt;
&lt;h2&gt;Towing&lt;/h2&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/161"&gt;https://github.com/ozkriff/zoc/issues/161&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;There're two new items in context menu: &amp;quot;attach&amp;quot; and &amp;quot;detach&amp;quot;.&lt;/p&gt;
&lt;p&gt;You can't chain attachments or attach WholeTile-sized units.&lt;/p&gt;
&lt;p&gt;Towing system is mostly important for quick reposition of field
guns but it can also help with clearing roads from wrecked vehicles.
The latter reason will become more important when partial damage for vehicles gets implemented.&lt;/p&gt;
&lt;div class="youtube"&gt;&lt;iframe
    frameborder="0"
    allowfullscreen
    src="https://www.youtube.com/embed/WEBmAvGUMGU?color=white&amp;rel=0&amp;showinfo=0"
&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class="section" id="smoothly-fading-to-alpha-fog-of-war"&gt;
&lt;h2&gt;Smoothly fading to alpha Fog of War&lt;/h2&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/210"&gt;https://github.com/ozkriff/zoc/issues/210&lt;/a&gt;&lt;/p&gt;
&lt;div class="youtube"&gt;&lt;iframe
    frameborder="0"
    allowfullscreen
    src="https://www.youtube.com/embed/eNwlOO_tTqs?color=white&amp;rel=0&amp;showinfo=0"
&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;p&gt;Opening FoW is a very common action so it deserves to be a little more pretty :)&lt;/p&gt;
&lt;p&gt;It was easy though I had to rework the FoW rendering code to make it use
a lot of independently colored scene nodes instead of a single big mesh.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="fixed-an-old-error-with-units-moving-into-invisible-enemies"&gt;
&lt;h2&gt;Fixed an old error with units moving into invisible enemies&lt;/h2&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/106"&gt;https://github.com/ozkriff/zoc/issues/106&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;This change caused some refactorings in the codebase:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Added a new event type: &lt;cite&gt;Reveal&lt;/cite&gt;, similar to ShowUnit but generated by &lt;cite&gt;Core&lt;/cite&gt; itself and not by the filtering system&lt;/li&gt;
&lt;li&gt;&lt;cite&gt;Merge all `*State&lt;/cite&gt; structs and &lt;cite&gt;GameState&lt;/cite&gt; trait into one universal &lt;cite&gt;State&lt;/cite&gt; struct &amp;lt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/255"&gt;https://github.com/ozkriff/zoc/issues/255&lt;/a&gt;&amp;gt;`_&lt;/li&gt;
&lt;li&gt;Added a proper FoW layer for air units&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="other-changes"&gt;
&lt;h2&gt;Other changes&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/159"&gt;The short-term roadmap was translated into English and updated&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/205"&gt;AI was taught to capture sectors&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;AI is still in poor state and crashes once in a while.
I need to implement replays to reproduce and fix these errors.
It's either AI sometimes issues orders to units that are already dead or there are bugs in the event filtering system.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/197"&gt;Android memory alignment errors are finally gone&lt;/a&gt;,
thanks to &amp;#64;not-fl3, &amp;#64;tomaka, &amp;#64;brendanzab and &amp;#64;mhintz.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/248"&gt;Though android port is still not very stable&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/214"&gt;Fixed bridge slots count&lt;/a&gt;.
Now bridges are real strategic points which can be controlled or blocked easily.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/220"&gt;Do not reduce unit morale if the attack was harmless&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Added &amp;quot;zoom in/out&amp;quot; buttons:&lt;/p&gt;
&lt;img alt="zoom in-out buttons" src="http://i.imgur.com/G5E2Va2.png" /&gt;
&lt;p&gt;because it's simpler than handling multi-touch gestures on android :)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="gameplay-screenshots"&gt;
&lt;h2&gt;Gameplay screenshots&lt;/h2&gt;
&lt;img alt="gameplay screenshot 1" src="http://i.imgur.com/DxfBok2.png" /&gt;
&lt;img alt="gameplay screenshot 2" src="http://i.imgur.com/V4ZPCrT.png" /&gt;
&lt;p&gt;&lt;a class="reference external" href="https://twitter.com/ozkriff"&gt;&amp;#64;ozkriff on Twitter&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ozkriff</dc:creator><pubDate>Tue, 24 Jan 2017 00:00:00 +0300</pubDate><guid>tag:ozkriff.github.io,2017-01-24:2017-01-24--devlog.html</guid><category>devlog</category><category>zoc</category></item><item><title>This Month in ZoC - 2016.08.22</title><link>http://ozkriff.github.io/2016-08-22--devlog.html</link><description>&lt;p&gt;(Repost from &lt;a class="reference external" href="https://users.rust-lang.org/t/this-month-in-zone-of-control/6993"&gt;https://users.rust-lang.org/t/this-month-in-zone-of-control/6993&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;Hi, comrades! Welcome to the first issue of ZoC's monthly report!&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc"&gt;ZoC&lt;/a&gt; is a turn-based hexagonal strategy game written in Rust.&lt;/p&gt;
&lt;p&gt;Core game features are:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;advanced fog of war&lt;/li&gt;
&lt;li&gt;slot system (multiple units per tile)&lt;/li&gt;
&lt;li&gt;reaction fire (xcom-like)&lt;/li&gt;
&lt;li&gt;morale and suppression&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="section" id="gfx-and-rusttype"&gt;
&lt;h2&gt;GFX and rusttype&lt;/h2&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc/tree/c8b11f4/src/zgl/src"&gt;Zgl&lt;/a&gt;/&lt;a class="reference external" href="https://github.com/ozkriff/stb-tt-rs"&gt;stb_truetype&lt;/a&gt;
were finally replaced with
&lt;a class="reference external" href="https://github.com/gfx-rs/gfx"&gt;GFX&lt;/a&gt;
and
&lt;a class="reference external" href="https://github.com/dylanede/rusttype"&gt;rusttype&lt;/a&gt;,
YAY :-D !!1 - &lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/183"&gt;#183&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="android"&gt;
&lt;h2&gt;Android&lt;/h2&gt;
&lt;p&gt;ZoC is now build with &lt;a class="reference external" href="https://github.com/tomaka/android-rs-glue"&gt;cargo-apk&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;There are still some problems with android version though: &lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/197"&gt;https://github.com/ozkriff/zoc/issues/197&lt;/a&gt; :(&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="roads"&gt;
&lt;h2&gt;Roads&lt;/h2&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/152"&gt;https://github.com/ozkriff/zoc/issues/152&lt;/a&gt;&lt;/p&gt;
&lt;img alt="Simple road" src="http://i.imgur.com/gZeJJGM.png?1" /&gt;
&lt;/div&gt;
&lt;div class="section" id="sectors-victory-points-and-game-results-screen"&gt;
&lt;h2&gt;Sectors, victory points and game results screen&lt;/h2&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/124"&gt;https://github.com/ozkriff/zoc/issues/124&lt;/a&gt;&lt;/p&gt;
&lt;div class="youtube"&gt;&lt;iframe
    frameborder="0"
    src="https://www.youtube.com/embed/hI6YmZeuZ3s"
&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;img alt="Sectors" src="http://i.imgur.com/gWbWorT.png?1" /&gt;
&lt;/div&gt;
&lt;div class="section" id="basic-smoke-screens"&gt;
&lt;h2&gt;Basic smoke screens&lt;/h2&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/160"&gt;https://github.com/ozkriff/zoc/issues/160&lt;/a&gt;&lt;/p&gt;
&lt;img alt="Smoke" src="http://i.imgur.com/9o8o7dk.png?1" /&gt;
&lt;img alt="Smoke screen in action" src="http://i.imgur.com/WgQNu8H.png" /&gt;
&lt;div class="youtube"&gt;&lt;iframe frameborder="0" allowfullscreen src="https://www.youtube.com/embed/WJHkuWwAb7A?color=white&amp;rel=0&amp;showinfo=0"&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;/div&gt;
&lt;div class="section" id="water-tiles"&gt;
&lt;h2&gt;Water tiles&lt;/h2&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/204"&gt;https://github.com/ozkriff/zoc/issues/204&lt;/a&gt;&lt;/p&gt;
&lt;img alt="Water" src="http://i.imgur.com/POhSLwh.png?1" /&gt;
&lt;/div&gt;
&lt;div class="section" id="gui-updates"&gt;
&lt;h2&gt;GUI updates&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Replaced unit ids with unit type names&lt;/li&gt;
&lt;li&gt;Added hit chances&lt;/li&gt;
&lt;li&gt;Added basic unit info to the upper-left corner of the screen&lt;/li&gt;
&lt;/ul&gt;
&lt;img alt="unit types" src="http://i.imgur.com/m0h2d5j.png" /&gt;
&lt;img alt="hit chances" src="http://i.imgur.com/YdfyxNW.png" /&gt;
&lt;img alt="basic unit info" src="http://i.imgur.com/qnZZgdX.png" /&gt;
&lt;/div&gt;
&lt;div class="section" id="fixed-switching-between-normal-and-wireframe-mode-for-buildings"&gt;
&lt;h2&gt;Fixed switching between normal and wireframe mode for buildings&lt;/h2&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/182"&gt;https://github.com/ozkriff/zoc/issues/182&lt;/a&gt;&lt;/p&gt;
&lt;img alt="combined wireframe and normal buildings" src="http://i.imgur.com/wjWcix7.png" /&gt;
&lt;/div&gt;
&lt;div class="section" id="other-notable-changes"&gt;
&lt;h2&gt;Other notable changes&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/191"&gt;Fixed armored units reaction to light reactive fire&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/211"&gt;Improved error message about missing assets&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc/commit/ac2c7c6"&gt;Made MapText fading to alpha smoothly&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc/commit/1ee698"&gt;Fixed annoying vehicle-in-building pathfinder bug&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc/commit/fde38"&gt;Added personal independent camera for each human player&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/196"&gt;Fixed AI hangup&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="bonus-1-zoc-on-android"&gt;
&lt;h2&gt;Bonus 1: ZoC on android&lt;/h2&gt;
&lt;img alt="photo" src="http://i.imgur.com/MzFwvI7.jpg" /&gt;
&lt;/div&gt;
&lt;div class="section" id="bonus-2-memoir44-mockup-of-smoke-demo-map"&gt;
&lt;h2&gt;Bonus 2: memoir44-mockup of smoke demo map&lt;/h2&gt;
&lt;img alt="photo" src="http://i.imgur.com/ZplFvxR.jpg" /&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Weekly links: &lt;a class="reference external" href="https://users.rust-lang.org/t/whats-everyone-working-on-this-week-31-2016/6747/2"&gt;1&lt;/a&gt;,
&lt;a class="reference external" href="https://www.reddit.com/r/rust/comments/4wob4b/whats_everyone_working_on_this_week_322016/d68pxx4"&gt;2&lt;/a&gt;,
&lt;a class="reference external" href="https://www.reddit.com/r/rust/comments/4xrycf/whats_everyone_working_on_this_week_332016/d6i0d1a"&gt;3&lt;/a&gt;,
&lt;a class="reference external" href="https://www.reddit.com/r/rust/comments/4yzx43/whats_everyone_working_on_this_week_342016/d6rp869"&gt;4&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/ozkriff/zoc"&gt;https://github.com/ozkriff/zoc&lt;/a&gt;, &lt;a class="reference external" href="https://twitter.com/ozkriff"&gt;&amp;#64;ozkriff on Twitter&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ozkriff</dc:creator><pubDate>Mon, 22 Aug 2016 00:00:00 +0300</pubDate><guid>tag:ozkriff.github.io,2016-08-22:2016-08-22--devlog.html</guid><category>devlog</category><category>zoc</category></item><item><title>Градообразующие объекты</title><link>http://ozkriff.github.io/2016-02-23--devlog.html</link><description>&lt;p&gt;Показал нескольким знакомым макет, послушал комментарии.
Один из повторяющихся - города не выглядят городами, слишком абстрактные,
больше похожи на хаотично раскиданные детские кубики.&lt;/p&gt;
&lt;p&gt;Я об этом не задумывался, моему замыленному взгляду город и так хорошо виден.
Даже наоборот, пытался здания раскидать и повернуть как попало,
что бы меньше чувствовалась жесткая гексагональная сетка со слотами.&lt;/p&gt;
&lt;p&gt;По задумке, города (и деревеньки) должны занимать не больше восьми-десяти
клеток в радиусе и действительно быть довольно абстрактными - иначе странно
будет выглядеть соотношение размеров зданий и техники/человечков.
И кое-какая хаотичность в любом случае должна быть, скучные города с улицами
ровно под 90 градусов я делать совсем не хочется.&lt;/p&gt;
&lt;p&gt;Но в то же время города должны выглядеть как цельный многоклеточный объект.
Выход вижу в каком-то алгоритме прокладки не влияющих на логику городских
улиц и автоматическом визуальном повороте зданий не абы как, а параллельно
с улицами.&lt;/p&gt;
&lt;p&gt;Что бы не запутаться, ввожу разделение:
&amp;quot;дорога&amp;quot; - значима для игровой логики и идет строго от центра одной клетки
к центру другой, а &amp;quot;улица&amp;quot; - это бутафорское нечто в городских клетках.&lt;/p&gt;
&lt;p&gt;Около большого здания, наверное, стоит выравнивать мелкие здания относительно
него, а не окружающих улиц. Типа, архитектурный ансамбль :) .&lt;/p&gt;
&lt;p&gt;Если посмотреть на тот же атлас дорог страны, то там от столицы тянутся
федеральные трассы, пронизывающие города насквозь:&lt;/p&gt;
&lt;img alt="карта Выборга с отмеченными главными дорогами" src="http://i.imgur.com/HWO1bjm.png" /&gt;
&lt;p&gt;Вот желтое тут - &amp;quot;дороги&amp;quot;, а белое/серое - &amp;quot;улицы&amp;quot; и дома.
Наверное, надо разрешить особую дорогу по городу прокладывать.
На этих клетках нельзя дома строить будет, но через нее будут проходить
обычные улицы и такая дорога не будет разрывать целостность города.&lt;/p&gt;
&lt;p&gt;Хммм, еще надо будет научить отряды внутри города двигаться по улицам
(визуально, не логически).&lt;/p&gt;
&lt;p&gt;Надо будет не забыть добавить еще железные дороги - один в один как
обычные дороги, только позволят поезду заезжать на клетку.
И тропинки в лесу: лес с деревьями, между центрами клеток нарисована небольшая
дорога с особой текстурой - по такому лесу техника сможет ехать, но медленно и
с плохим обзором.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Но это так, мысли все. &amp;quot;Реально&amp;quot; в макете не успел все попробовать.&lt;/p&gt;
&lt;p&gt;Добавил улицы и декоративные заборчики с садами у пары зданий.&lt;/p&gt;
&lt;p&gt;Здания к улицам повернул &amp;quot;фасадами&amp;quot;.&lt;/p&gt;
&lt;p&gt;Заводу трубу прилепил, так чуть понятнее что это завод :) .&lt;/p&gt;
&lt;img alt="Макет улиц" src="http://i.imgur.com/P5oHw26.png" /&gt;
&lt;img alt="Макет улиц с другого ракурса" src="http://i.imgur.com/xFzaR9W.png" /&gt;
&lt;p&gt;В таком виде улицы слишком бросаются в глаза для &amp;quot;чисто декоративного&amp;quot; элемента.
Возможно, потому что макет довольно беден на детали?
В игре можно будет их &amp;quot;запылить&amp;quot; землей по краям, думаю.&lt;/p&gt;
&lt;p&gt;Еще вопрос, как такое автоматически генерировать можно?
Тут-то сетка вручную сделана и довольно хитрожопая:&lt;/p&gt;
&lt;img alt="Сетка макета городских улиц" src="http://i.imgur.com/JVx8z0v.png" /&gt;
&lt;p&gt;Сделал болванку трехклеточного корабля, у этого придется немного
поколдавать с путенажодением, что бы он плавно поворачивал и
только по широким рекам мог проплывать.&lt;/p&gt;
&lt;img alt="Рендер макета с вышеописанными изменениями" src="http://i.imgur.com/UOhnj0R.png" /&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Чуууточку удалось поковырять код между рисовашками и размышлениями.&lt;/p&gt;
&lt;p&gt;В рамках подготовки к введению системы слотов удалил
костыль с константами номеров узлов сцены (&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/154"&gt;#154&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Долго пытался понять, как мой код ломает погрузку пехоты в грузовик.
Потом понял, что оно и раньше не работало. Отлично! :)&lt;/p&gt;
&lt;p&gt;Потыкал асимметричность тумана войны (&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/149"&gt;#149&lt;/a&gt;),
не там все совсем не просто и времени много займет, отложил пока что.
Как и отложил задачи о украшении типов-оберток (&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/120"&gt;#120&lt;/a&gt;, &lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/147"&gt;#147&lt;/a&gt;),
потому что прямой пользы для прототипа от них не так много.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;&lt;a class="reference external" href="https://github.com/rust-lang/rust/pull/31123"&gt;rust-lang/rust#31123&lt;/a&gt;
- ураа, проверка сборок под андроидом, лед тронулся!
Значит, скоро ситуация со сборкой под андроид должна в лучшую
сторону измениться.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Заглянул тут в &lt;a class="reference external" href="http://store.steampowered.com/app/365560"&gt;обзоры&lt;/a&gt;
Battle of the Bulge в стиме.
Я просто в ужасе от того, сколько отрицательных обзоров в &amp;quot;самых полезных&amp;quot;.
Какого черта, человеки?! Игра же отличная, просто она отличается
от большинства компьютерных стратегий.
Идите в ремейки Панзер Дженералс играть, быдлота от мира варгеймов,
не портите оценку маленькому шедевру :( .&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Итак, я опять фактически потратил пару дней на макет и размышления.
Пора уже заняться реализацией слотов в коде.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ozkriff</dc:creator><pubDate>Tue, 23 Feb 2016 00:00:00 +0300</pubDate><guid>tag:ozkriff.github.io,2016-02-23:2016-02-23--devlog.html</guid><category>devlog</category><category>zoc</category></item><item><title>Чертов макет!</title><link>http://ozkriff.github.io/2016-02-14--devlog.html</link><description>&lt;p&gt;Ладно, X-Com меня начал потихоньку отпускать и
большую часть хотелок по макету получилось набросать.&lt;/p&gt;
&lt;p&gt;Автоматчик:&lt;/p&gt;
&lt;img alt="автоматчик" src="http://i.imgur.com/fyIMLGr.png" /&gt;
&lt;p&gt;Довольно легко визуально отличить от обычных стрелков должно быть,
но на всякий еще сгорбленными их поставил.&lt;/p&gt;
&lt;p&gt;Закинул в джип еще одного пассажира и подкрутил позы старых:&lt;/p&gt;
&lt;img alt="пассажиры в джипе" src="http://i.imgur.com/b8YXgSW.png" /&gt;
&lt;p&gt;На средний танк прилепил еще одного танкодесантника сбоку:&lt;/p&gt;
&lt;img alt="вальяжно-боковой танкодесантник" src="http://i.imgur.com/FtkfmWO.png" /&gt;
&lt;p&gt;С виду, трех еще можно на танк посадить - как раз отряд и будет.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Так, что тут еще на общем снимке виднеется?
Огнеметчик, снайпер, пулеметный рассчет,
простенькая средняя закрытая САУ на основе среднего танка.
Обновил полевую пушку и ее прицепление к грузовику.&lt;/p&gt;
&lt;img alt="более свежий общий снимок" src="http://i.imgur.com/nSR1HSk.png" /&gt;
&lt;p&gt;На планшете смотрится прилично, солдат всех различить можно.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Все, считаю &amp;quot;неделю блендера&amp;quot; законченной - толку от дальнейшей
проработки макета уже не много, а рисовать я уже устал.
Может еще какие-то вещи буду подпиливать в нем, но уже не так целенаправленно.&lt;/p&gt;
&lt;p&gt;Настало время писать код! Прриступаю к реализации трехслотовой системы! :-D&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ozkriff</dc:creator><pubDate>Sun, 14 Feb 2016 00:00:00 +0300</pubDate><guid>tag:ozkriff.github.io,2016-02-14:2016-02-14--devlog.html</guid><category>devlog</category><category>zoc</category></item><item><title>Пришельцы воруют мое время</title><link>http://ozkriff.github.io/2016-02-10--devlog.html</link><description>&lt;p&gt;Мой план &amp;quot;усилием воли закончить макет за выходные&amp;quot; с грохотом провалился.&lt;/p&gt;
&lt;img alt="Сектоид контроллирует землянина" src="http://i.imgur.com/uNVSb9c.jpg" /&gt;
&lt;p&gt;(Да, картинка из xcom1, но мне лень искать с новым сектоидом)&lt;/p&gt;
&lt;p&gt;Внезапно для меня объявился X-COM 2.
И внезапно же запустился на моей железяке, хотя все на оптимизации ругаются.
Fps, правда, не на высоте совсем.&lt;/p&gt;
&lt;p&gt;Что могу сказать об игре после пары дней знакомства?&lt;/p&gt;
&lt;p&gt;Пока в основном положительные эмоции, даже переделанный облик
врагов особо не раздражает.&lt;/p&gt;
&lt;p&gt;Круто, что практически убрали миссии без таймера - хотя люди в
половине обзоров и ругаются на таймер, но мне играть стало на порядок
интереснее.
Тем более, что с новой темой &amp;quot;мы террористы - прибежали, все раздолбали
и свалили, пока силы правопорядка не очухались&amp;quot; отлично сочетается.&lt;/p&gt;
&lt;p&gt;Одна из главных вещей, за которые ругали xcom:eu -
что враги ходят по карте группами, которые надо аккуратно уничтожать по одной,
и двигаться надо странным образом, что бы случайно не активировать следующую группу.
Это же и правда глупо и скучновато было.
А теперь у игрока уже не выйдет отсидеться на месте больше двух ходов
если ты на месте больше трех-четырех ходов торчишь, то, скорее всего,
вообще к цели не успеешь.&lt;/p&gt;
&lt;p&gt;Я пока вижу один недостаток этого подхода - не та атмосфера,
что была в первой части. Тогда солдаты аккуратно прочесывали карту, как,
по мнению людей, в реальности охота на прищельцев и происходила бы,
а не рвались со всех ног через всю карту.
Ну и ладно, меня новая атмосфера вполне устраивает)&lt;/p&gt;
&lt;p&gt;Немного раздражали несколько нелепые мечи у солдат, но к
этому быстро привыкаешь.&lt;/p&gt;
&lt;p&gt;Еще радует, что гранаты опять можно кидать только по клеткам.
Как же много было в прошлой части раздражающих моментов,
когда нужно было терпеливо двигать мышку пикель-туда-пиксель-сюда,
что бы зацепить всех возможных врагов. Там еще и возможность гранат
отскакивать накладывалась на это безобразие. Бррр!&lt;/p&gt;
&lt;p&gt;В обзорах игру за большое количество ошибок ругают, но у меня всего парочка была.
Один из новобранцев был без тела - голова летала сама по себе,
пришлось ему костюм поменять туда-сюда в настройках.
И один раз планшет, на котором отображается интерфейс взлома, солдат вставил
внутрь стены, за которой он прятался, и камера показывала стену.
Больше ничего не припоминаю.&lt;/p&gt;
&lt;p&gt;Вроде мелочь, но мне почему-то очень понравилось - анимации ранений
на послемиссионном экране.
Как-то компенсирует то, что во время самого тактического боя последствий
от ранений почти нет.
Плюс, оправдание &amp;quot;они не замечают ранений, потому что адреналин&amp;quot; сразу как-то
правдоподобней выглядит - вот же они после боя с ног валятся.&lt;/p&gt;
&lt;p&gt;Видел отзывы &amp;quot;рандом говно, у меня подряд четыре снайпера промазали при
вероятности 80%&amp;quot;.
Вот возьми и запиши результаты всех случайностей в игре - уверен, что получится
чего-то очень близкое к честному, так что не надо ныть.&lt;/p&gt;
&lt;p&gt;Еще в отзывах часто мелькает: &amp;quot;солдаты промахиваются в упор, это тупо&amp;quot;.
Ну хз, с моим-то обширным опытом промахиваться в упор в Red Orchestra и
всяких шутанах, у меня точно нет желания ругать бедных солдат за подобное :) .&lt;/p&gt;
&lt;p&gt;Из косяков могу еще отметить пикейщиков.
Это враги, которые не умеют стрелять, зато быстро
бегают и хорошо бьют оглушающими дубинками.
Такой появиляется в поле зрения и на следующих ход уже будет атаковать кого-то из твоих солдат.
И если твой солдат не будет вырублен первым ударом (а в первую треть игры такое часто случается),
то он его сильно ослабит попаданием, что упростит взятие этого солдата под контроль сектоидами.
После первой трети игры появляются варианты: снайпера натравить,
поставить на его пути своего рукопашника с &amp;quot;автоатакой&amp;quot; по всему пробегающему рядом,
взять пикейщика под контроль своими пси-оперативниками, заминировать подходы.
После середины игры он обогащает игровой опыт однозначно.
Но вначале игры появление этого врага означает, что возможные адекватные варианты
поведения игрока сильно суживаются и это вредит игре.
Вначале игры выход один - валить этих гадов всем отрядом из всего оружия, как только увидел.
Ну или я играть не умею, тоже может быть)))&lt;/p&gt;
&lt;p&gt;Еще жалко, что за мехов пока играть нельзя, как в xcom:ew. Жду дополнений.&lt;/p&gt;
&lt;p&gt;Про xcom:eu было много отзывов про оказуаливание, даже сам поначалу не хотел
играть, судил по видео с ютуба. Это уже потом, когда меня уговорили
попробовать все-таки я понял, что летсплйщики и играли на простом уровне
сложности, и там были только ранние этапы игры и действовали они прямолинейно.
От того убого и выглядело.
Сейчас считаю, что авторы очень даже круто балансируют между хардкорной и казуальной игрой.&lt;/p&gt;
&lt;p&gt;И да, как всегда считаю, что проходить надо в режиме &amp;quot;железный человек&amp;quot;,
без всяких сохранений/загрузок))&lt;/p&gt;
&lt;img alt="xcom2: неудачная миссия" src="http://i.imgur.com/uSfqLSc.jpg" /&gt;
&lt;img alt="xcom2: еще более неудачная миссия" src="http://i.imgur.com/OOv9YCx.jpg" /&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Так, ладно, кое-что я все-таки смог заставить себя наклепать.&lt;/p&gt;
&lt;p&gt;Немного подпиленный легкий танк, самоходка на его основе и болванка джипа:&lt;/p&gt;
&lt;img alt="Джип, танк и самоходка" src="http://i.imgur.com/POQVRr6.png" /&gt;
&lt;p&gt;Новая сетка для солдата, даже кое-какой скелет в него вставил:&lt;/p&gt;
&lt;img alt="Болванка человечка" src="http://i.imgur.com/mDOsTVE.png" /&gt;
&lt;p&gt;Долго пытался ему размер подобрать, что бы он в технику влезал,
но и виден был. Пока вот на этом остановился.&lt;/p&gt;
&lt;p&gt;Выдал ему винтовку:&lt;/p&gt;
&lt;img alt="Человечек с винтовкой" src="http://i.imgur.com/0Rghhut.png" /&gt;
&lt;p&gt;Не удержался и немного деталей джипу добавил (теперь он смотрится
слишком детальным, когда рядом с грузовиком стоит)
и пассажиров в нем рассадил пейзажно:&lt;/p&gt;
&lt;img alt="Джип с пассажирами" src="http://i.imgur.com/ihfVxiq.png" /&gt;
&lt;p&gt;Любой пулеметчик смотрится круче, если может ножку закинуть на что угодно :) .&lt;/p&gt;
&lt;p&gt;Средний танк с танкодесантником:&lt;/p&gt;
&lt;img alt="Средний танк с танкодесантником" src="http://i.imgur.com/mzuWZVX.png" /&gt;
&lt;p&gt;Бронетранспортеров на всех не хватит, кому-то придется так
к полю боя добираться. Заодно танк целей будет.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Последнее время в реддите стали мелькать библиотеки шрифтовые, приятно.
Раньше думал &lt;a class="reference external" href="https://github.com/PistonDevelopers/truetype"&gt;truetype&lt;/a&gt; потыкать для замены своих
костылей вокруг сишного &lt;a class="reference external" href="https://github.com/nothings/stb/blob/master/stb_truetype.h"&gt;stb_truetype&lt;/a&gt;, теперь вот еще появился &lt;a class="reference external" href="https://www.reddit.com/r/rust/comments/44btaz/introducing_rusttype_a_pure_rust_alternative_to"&gt;RustType&lt;/a&gt;.
Выглядит вполне прилично (&lt;a class="reference external" href="https://github.com/dylanede/rusttype/blob/6aa3bfa/examples/simple.rs"&gt;пример&lt;/a&gt;). Хорошо, когда есть из чего выбирать.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Что же, в связи с xcom-катастрофой переношу цель &amp;quot;закончить с макетом&amp;quot;
на конец уже этой недели. Попробую проявиться характер и хоть немного
оторвать себя от истребления пришельцев.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ozkriff</dc:creator><pubDate>Wed, 10 Feb 2016 00:00:00 +0300</pubDate><guid>tag:ozkriff.github.io,2016-02-10:2016-02-10--devlog.html</guid><category>devlog</category><category>zoc</category></item><item><title>Первая половина Недели Блендера</title><link>http://ozkriff.github.io/2016-02-05--devlog.html</link><description>&lt;p&gt;После пары просьб, решил таки
&lt;a class="reference external" href="https://github.com/ozkriff/ozkriff.github.io-src/commit/aec640"&gt;добавить&lt;/a&gt;
записям желтушные заголовки. Так их и правда немного проще отличать.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Набросал &lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/159"&gt;мегазадачу&lt;/a&gt;
по расширенному прототипу тактического режима. Надеюсь, это немного
поможет не разбрасываться на всякие левые дела и просто
делать пункт за пунктом.&lt;/p&gt;
&lt;p&gt;Хотелось бы все это сделать к апрелю, за два месяца.
Хе-хе, :-D ну посмотрим, как оно выйдет.
Никогда и нигде в сроки не укладывался толком, особенно с таким размытым ТЗ.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Двери-окна вот зданиям добавил, немного приятнее стало выглядеть,
накалякал легкий простенький танк.&lt;/p&gt;
&lt;p&gt;Деревья кое какие сделал, вместо ворованных. Они не то что бы прям
ворованные, но под cc-by-sa, а мне хочется прям свободные-свободные
модели в составе игры иметь
(&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/24"&gt;#24&lt;/a&gt;).&lt;/p&gt;
&lt;img alt="снимок экрана с новой сценой" src="http://i.imgur.com/FkCJjZI.png" /&gt;
&lt;p&gt;Пробую накидать джип, с ним уже явно становятся видны нестыковки
в текущих размерах людей и техники. Что-то надо менять.&lt;/p&gt;
&lt;img alt="сравнительные размеры человеков и техники" src="http://i.imgur.com/lkuFEic.png" /&gt;
&lt;p&gt;Изначально я хотел, что бы в один слот влезало нечто масштаба Т-35
или маус (последние два снизу, ~10 метров).&lt;/p&gt;
&lt;p&gt;Все-таки предполагалось, что целую клетку будут занимать только огромные
здания, заводы там всякие, а техника, если на всю клетку, то тоже должна
бы быть сопоставимой с заводом в размерах, мегатанки всякие.&lt;/p&gt;
&lt;p&gt;Но, как из картинки видно, если придерживаться более-менее реального размера
человечков, то они становятся совсем крошечными, если камеру прямо в землю
не утыкать.&lt;/p&gt;
&lt;p&gt;А я такое уже видел в Кодексе Войны и играть в такое очень и очень сложно:&lt;/p&gt;
&lt;img alt="мелкие человечки из Кодекса Войны" src="http://i.imgur.com/qWdwJhK.jpg" /&gt;
&lt;p&gt;Но просто так взять и увеличить людей я не могу, потому что в игре должны
быть джипы, полевые пушки и т.п., где тоже используются модели человечков
и, например, джип с увеличенными людьми смотрится как-то так:&lt;/p&gt;
&lt;img alt="мужик в детской машинке" src="http://i.imgur.com/NDt7gCt.jpg" /&gt;
&lt;p&gt;Хмм, вот я, после некоторого размышления, думаю что делать по этому поводу:&lt;/p&gt;
&lt;p&gt;Придется убирать требование &amp;quot;в слот влезает техника размера т-35/мауса (10м)&amp;quot;,
так что в слот максимум помещается техника до 6.5м в длину
(без учета всяких торчащих пушек, черт с ними).
Увеличиваю людей, допустим, в полтора раза от реальных
и увеличиваю технику в обратной пропорции к ее размеру.
Т.е. мотоцикл/полевое орудие/джип я увеличиваю ровно как и людей,
мелкие танки я увеличиваю уже на меньший процент,
средние увеличиваю совсем на чуть чуть,
большие танки остаются как есть.
А всякие маусы уже в слоты не влезают и занимают сразу целую клетку и черт
уж с тем, что они размером с завод будут - еще немножко условностей
БОГУ УСЛОВНОСТЕЙ!!^W^W, кхм, в угоду визуальному удобству :).&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Я там в прошлой записи упоминал, что здания с людьми внутри должны будут
отображаться разрезанными/сеткой. Пока себе представляю как-то так:&lt;/p&gt;
&lt;img alt="снимок экрана с сеточными зданиями" src="http://i.imgur.com/EXX05au.png" /&gt;
&lt;p&gt;Вопрос, конечно, как это в OpenGL все отображать =\.
.obj, который пока у меня используется,
не умеет хранить просто ребра, ему нужны грани.
Менять формат пока не сильно хочется, надо сосредоточиться на прототипе.
Есть вариант, в самом блендере, в виде временного хака, какими-нибудь
модификаторами сделать вместо набора ребер набор тонких граней.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Понял, что в блендере как-то жутко глючит выделение объектов.
Погуглил, попробовал всякое, в итоге помогло переключение режима
выделения с обычного на &amp;quot;Occlusion Query Based Selection&amp;quot;.
Странно это все, неприятные мелочи)&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Вышла &lt;a class="reference external" href="https://www.reddit.com/r/gamedev/comments/433hqc"&gt;четвертая статья&lt;/a&gt;
от чувака с космической 6DOF игрой, про распределение времени.
Эх, там, судя по всему, о случае когда у тебя нет основной работы и ты
просто целыми днями делаешь игру - как не свихнуться от такого и чего-то в
итоге все-таки сделать. Не сильно мне совету оттуда подходят)
Да и вообще, слабо себе представляю, если честно, как можно решиться уйти с
постоянной работы в трушные индюшатники и только этим и жить, брр.&lt;/p&gt;
&lt;p&gt;Залип тут на гифки в &lt;a class="reference external" href="https://habrahabr.ru/post/276255"&gt;хаброзаписи о визуализации потоков в Go&lt;/a&gt;, обожаю такие картинки))&lt;/p&gt;
&lt;p&gt;В /r/rust промелькнул приятный &lt;a class="reference external" href="https://www.reddit.com/r/rust/comments/435572/blog_the_operator_and_try_vs_do/"&gt;пост про &amp;quot;try/catch/? vs монады&amp;quot;&lt;/a&gt;
со срачем в комментариях. Клево, что не все согласились с RFC &lt;cite&gt;try/catch/?&lt;/cite&gt;
обсуждения еще идут. Все-таки очень уж частное это решение, в отличие от
нормальных монад.
Да, с монадами нельзя так просто использовать &lt;cite&gt;return&lt;/cite&gt;, &lt;cite&gt;break&lt;/cite&gt;, &lt;cite&gt;continue&lt;/cite&gt;
и т.п. - ну и ладно, пускай функциональщина будет предпочтительней
императившины, я совсем не против.
В языке и так сильный уклон в эту сторону уже есть.&lt;/p&gt;
&lt;p&gt;Внезапно
&lt;a class="reference external" href="https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0"&gt;узнал&lt;/a&gt;,
что блогогенератор Jekyll можно вообще локально не разворачивать, а
github pages сами могут из .md исходников .html выплевывать.
Как-то совсем мимо моих ушей прошло)
Ну да ладно, не буду сломя голову переводить днявку на джекил, уже успел
к пеликану более-менее привыкнуть. Да и reStructuredText тут изначально
поддерживается, мне он больше по душе.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Итак, по плану, на этой неделе надо закончить с набросками моделей.
Надо бы за выходные несколько видов техники еще допилить, определиться
с относительными размерами и, самое сложное, человечка со
скелетом и позами с оружием запилить. Ух, ну постараюсь :) .&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ozkriff</dc:creator><pubDate>Fri, 05 Feb 2016 00:00:00 +0300</pubDate><guid>tag:ozkriff.github.io,2016-02-05:2016-02-05--devlog.html</guid><category>devlog</category><category>zoc</category></item><item><title>Выходные, размеры, Тарантино и ненависть к людишкам</title><link>http://ozkriff.github.io/2016-01-31--devlog.html</link><description>&lt;p&gt;Итак, выходные прошли. Толком ничего не сделал, но надо хоть чего-то
сюда написать, раз уж опять взялся журнал вести. Так что вот, на :) :&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Переложил журнал из гиста в воскрешенный ozkriff.github.io и
столкнулся со сложностями с disqus.&lt;/p&gt;
&lt;p&gt;Сначала оно вообще не хотело загружаться,
&lt;a class="reference external" href="https://github.com/ozkriff/ozkriff.github.io-src/commit/a410487"&gt;поправил&lt;/a&gt; :) .&lt;/p&gt;
&lt;p&gt;Потом оно завело для http и https отдельные потоки комментариев, гм =\ .&lt;/p&gt;
&lt;p&gt;Почитал всякое (типа &lt;a class="reference external" href="https://github.com/barryclark/jekyll-now/issues/165"&gt;вот этого&lt;/a&gt;  или
&lt;a class="reference external" href="https://coderabbi.github.io/posts/force-https-with-github-pages"&gt;этого&lt;/a&gt;).
По итогам &lt;a class="reference external" href="https://github.com/ozkriff/ozkriff.github.io-src/commit/183bee"&gt;вклячил&lt;/a&gt;
js-хак с перенаправлением с http на https (хотя при особом желании все равно
можно зайти на http).&lt;/p&gt;
&lt;p&gt;Несколько комментариев к прошлой записи перекинул на https версию.
Немного потупил с вытаскиванием CSV из disqus и его правкой - интерфейс
у админки disqus не слишком интуитивен.
Но само перемещение комментариев прошло просто.&lt;/p&gt;
&lt;p&gt;Вроде, все более-менее работает, останавливаюсь пока на этом с журналом.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Поэкспериментировал с геометрией людей, но пристойного ничего пока не вышло.
Подумываю сделать их мультяшными. Все-таки игра пошаговая,
с клетками - в ней много условностей, а мультяшные персонажи
с таким гармоничней смотрятся, тоже ведь визуальные условности.&lt;/p&gt;
&lt;p&gt;Думал, что ноги надо укоротить и туловище сделать длинным, что бы
напоминало человечков с бумажных рисунков. Но в 3D выглядит стремно
и совершенно непонятно, как таких уродцев сажать в технику.
Похоже, останусь с более-менее обычной человеческой геометрией)&lt;/p&gt;
&lt;p&gt;Листаю всякие &lt;a class="reference external" href="http://wiki.polycount.com/wiki/Limb_Topology"&gt;http://wiki.polycount.com/wiki/Limb_Topology&lt;/a&gt; .
Ох, все это немного слишком сложно для меня)
Да и не то что бы очень надо пока что, все-таки у меня тут пока
что довольно набросочные модельки, я даже не пытаюсь какие-то
детали изобразить.&lt;/p&gt;
&lt;p&gt;---&lt;/p&gt;
&lt;img alt="схема пропорций" src="http://i.imgur.com/tPYfFq3.jpg" /&gt;
&lt;p&gt;Одновременно с прикидыванием геометрии людей медитирую над
сравнительными размерами техники (человеки же в нее влезать как-то должны).
Отталкиваться все-таки буду от техники второй мировой и около того,
не смотря на то, что хочу в итоге дизельпанк/постап.
Да и такая основа даже более-менее укладывается в
&lt;a class="reference external" href="https://ru.wikipedia.org/wiki/Дизельпанк#.D0.A0.D0.B0.D0.B7.D0.B2.D0.B8.D1.82.D0.B8.D0.B5_.D0.B6.D0.B0.D0.BD.D1.80.D0.B0"&gt;Поздний Дизельпанк&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Прикольно, кстати, я думал что бронемашины серии БА больше, как и танки Т-70.
Хотя и то, и другое - не так уж далеко от грузовиков-автомобилей ушло
(в Т-70 две силовых установки от грузовиков обычных, если не ошибаюсь),
так что не удивительно.&lt;/p&gt;
&lt;p&gt;Все со схемы выше должно влезать в слот клетки, даже пятибашенный т35
и маус должны более-менее запихиваться.&lt;/p&gt;
&lt;p&gt;Вот тут, с блицкриговскими модельками, даже нагляднее размеры чувствуются
(хотя не факт, что они тут такие же точные, все-таки Блицкриг не симулятор):&lt;/p&gt;
&lt;img alt="картинка из блицкрига с кучей техники" src="http://i.imgur.com/QcdYANu.png" /&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;StopGame выложили &lt;a class="reference external" href="http://www.youtube.com/watch?v=EqwhkOXtrEA"&gt;вторую часть Истории Fallout&lt;/a&gt; -
очень даже приятный обзор первой части.
Приятно было за ужином посмотреть, прям ностальгичненько так)
Каких-то вещей даже не знал, все-таки я больше во вторую играл в школе.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Сходил на Омерзительную Восьмерку. Как по мне, отличное кино, старый добрый
Тарантина вернулся - Бешеные Псы в антураже старой америки. Но подозреваю,
что копать на тему исторической достоверности бессмысленно, гм).&lt;/p&gt;
&lt;p&gt;Фильм, в общем, отличный, а вот зрителей хотелось поубивать.
Что бы так же, с литрами кровищи и кишками на креслах.
Давненько в кино уже не были, пол года, наверное. Отвык уже :(&lt;/p&gt;
&lt;p&gt;Слева уселись две ТП, которые вообще непонятно зачем пошли
и весь фильм или откровенно скучали, уткнувшись в телефоны, или болтали о папиках,
или взвизгивали &amp;quot;ой боженьки, он что в лицо ее ударил?! женщинуу?!&amp;quot;, &amp;quot;ой, этой
у нее мозги на волосах что-ли? фуу, вот больные!&amp;quot;, &amp;quot;ой, негра кровью
стошнило что ли?&amp;quot; и т.п. А на титрах громко иронично зааплодировали -
&amp;quot;ураа, наконец-то, лучший момент в фильме, зачем только пошли?&amp;quot;.
Я вот тоже не знаю зачем они пошли.&lt;/p&gt;
&lt;p&gt;Спереди сидели какие-то мелкие дурочки, которые громко ржали
при каждом &amp;quot;нигер&amp;quot; или еще чем подобным, что по моим представлениям
должно вызвать максимум ухмылку. И сидели вконтактике с
огромного лопатофона с такой яркостью, что меня аж слепило иногда.&lt;/p&gt;
&lt;p&gt;Справа сидели два милых гопаря, один из которых все время терял нить
&amp;quot;тягомотины&amp;quot; и хотел свалить с сеанса, а другой уговаривал своего дружка
остаться и громко, даже не претендуя на шепот, пересказывал сценарий
и выдавал свои наивные прогнозы по поводу развития сюжета.&lt;/p&gt;
&lt;p&gt;В общем, временами было сложно абстрагироваться, такое сильно
мешает смотреть атмосферный фильм. Вот бы в кинотеатрах были охранники,
которые за превышение громкости выводят из зала, эх.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ozkriff</dc:creator><pubDate>Sun, 31 Jan 2016 00:00:00 +0300</pubDate><guid>tag:ozkriff.github.io,2016-01-31:2016-01-31--devlog.html</guid><category>devlog</category><category>zoc</category></item><item><title>Несколько моделек и вечная смерть</title><link>http://ozkriff.github.io/2016-01-29--devlog.html</link><description>&lt;p&gt;Defuz предложил, пока я веду журнал в гисте, пинговать о записях в &lt;a class="reference external" href="https://gitter.im/ozkriff/zoc"&gt;https://gitter.im/ozkriff/zoc&lt;/a&gt;,
что был способ оставлять коменты и узнавать об обновлениях.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Немного поправил геометрию &lt;a class="reference external" href="https://www.google.ru/search?q=mammoth+tank&amp;amp;tbm=isch"&gt;мамонт танка&lt;/a&gt;:&lt;/p&gt;
&lt;img alt="Набросок мамонт-танка" src="http://i.imgur.com/WT8GoOa.png" /&gt;
&lt;p&gt;Но сильно возиться с ним не хочется - мне просто нужен какой-то огромный юнит на всю
клетку, чтобы не забыть про них совсем)&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;С вертолетом тоже пока заканчиваю вот на такой стадии:&lt;/p&gt;
&lt;img alt="Болванка вертолета" src="http://i.imgur.com/SmH0l9V.png" /&gt;
&lt;p&gt;Кстати, на заднем плане, за вертолетом, обрезанные здания виднеются.
Примерно так, если что, подумываю рисовать здания в которых кто-то есть.&lt;/p&gt;
&lt;p&gt;В режиме рендера каркас не рисуется, вообще палки сверху еще должны быть:&lt;/p&gt;
&lt;img alt="Каркасные здания" src="http://i.imgur.com/JkyABzz.png" /&gt;
&lt;p&gt;(на вписаную и описаную окружности внимание обращать не надо,
это просто вспомогательные конструкции для размещения зданий в макете :) )&lt;/p&gt;
&lt;p&gt;Может еще контуры окон-дверей потом добавлю.&lt;/p&gt;
&lt;p&gt;В Battle Academy здания с людьми внутри рисуются полупрозрачными,
но на деле (для меня, конечно) это очень криво выглядит и ничего не понятно =\ :&lt;/p&gt;
&lt;img alt="Здания в BA2" src="http://i.imgur.com/6sWmGTH.png" /&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;О, внезапное (эти тоже все обещают &amp;quot;начать вести бложик более постоянно&amp;quot;, хех)
обновление в тихом и уютном бложике разработчиков моей любимой
Unity of Command:&lt;/p&gt;
&lt;p&gt;&lt;a class="reference external" href="http://unityofcommand.net/blog/2016/01/28/dev-diary-3-are-you-experienced"&gt;http://unityofcommand.net/blog/2016/01/28/dev-diary-3-are-you-experienced&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Тут говорится о том, что во второй части игры войска надо будет беречь,
потому что они будут переходить из сценария в сценарий.
Ну и о тонкостях накопления ими опыта рассказывается.&lt;/p&gt;
&lt;p&gt;Вот, вроде, это клево и логично, что тебя принуждают не разбрасываться
армией просто так. Но что-то в первой части UoC
было приятно освобождающее в том, что ты мог пожертвовать чем угодно,
лишь бы выполнить боевые задачи в срок.
Да и в относительно недавно пройденной мной Battle Academy 2 так же.
Эх, теперь, наверное, надо будет над каждым отрядом трястись =\ .&lt;/p&gt;
&lt;p&gt;В более масштабном Кодексе Войны или даже Битве за Веснот меня
необходимость побеждать без потерь сильно раздражала. Тоже интересно, конечно,
но там надо было выигрывать почти всегда без потери единого отряда, разве что
совсем уж мелочью дешевой жертвовать.&lt;/p&gt;
&lt;p&gt;С одной стороны, это как-то не слишком реалистично, как по мне, в жизни так не бывает).&lt;/p&gt;
&lt;p&gt;С другой, это создает прямую связь между сценариями: хорошо играешь -
потом побеждать тоже проще, плохо играешь - дальше только сложнее будет.
Это занятная метаигра, но не без неприятных нюансов:
ты заранее не знаешь, какой процент потерь
допустим, так что если есть возможность переиграть сценарий, то лично
я обычно переигрываю до тех пор, пока не пройду практически без потерь,
а то мало ли что в следующих сценариях меня ждет?
Это несколько вытягивает удовольствие из игры.
Даже виноватым себя чувствовал, если начинал новый сценарий без
идеального прохождения прошлого.&lt;/p&gt;
&lt;p&gt;Лично моим любимым решением этой сложности является перманентная смерть
(когда сохранение только одно и только автоматическое), как в новом X-COM, например.
У тебя просто нет возможности переигрывать сценарии, так что из-за этого
совесть не мучает и просто стараешься аккуратно играть, лишний раз не подставляя ценных
ветеранов под риск.&lt;/p&gt;
&lt;p&gt;Ладно, посмотрим как тут сделают, может пермадез будет, может условия выигрыша в
сцерании будут оговаривать какой-то допустимый процент потерь,
или в каждом новом сценарии будут выдавать
большое количество &amp;quot;казеных&amp;quot; отрядов, или еще что такое :) .&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ozkriff</dc:creator><pubDate>Fri, 29 Jan 2016 00:00:00 +0300</pubDate><guid>tag:ozkriff.github.io,2016-01-29:2016-01-29--devlog.html</guid><category>devlog</category><category>zoc</category></item><item><title>Очередной перезапуск</title><link>http://ozkriff.github.io/2016-01-28--devlog.html</link><description>&lt;p&gt;Моя последняя попытка вести нормальный журнал &lt;a class="reference external" href="https://github.com/ozkriff/ozkriff.github.io-src/blob/master/content/2015-11-30--devlog-live-again.rst"&gt;провалилась&lt;/a&gt; :) .&lt;/p&gt;
&lt;p&gt;Времени жрет дикое количество. Не умею я, как некоторые люди могут, за пол часа накатать красивую страницу текста :( .
После того поста вел каждодневные записи в файлике, что я по проекту делаю, что бы потом из них пост слепить.
Через месяц, под новый год таки попробовал - просидел три вечера за этим занятием, задолбался и решил что обойдусь без блога)&lt;/p&gt;
&lt;p&gt;Так что попробую теперь вести хоть какой-то журнал, в виде маленьких слабо-организованных записей.
Как я себе в файлик писал, вот так же - каждый день, если хоть чего-то делал про Зоку,
писать что делал, как прошло и какие у меня мысли вообще возникают.
Авось кому-нибудь да и будет интересно полистать.
Ну и мне потом, наверное, забавно перечитать когда-нибудь будет и вспомнить, какой я был дурной)&lt;/p&gt;
&lt;p&gt;Собственно, это первая запись :) . Хотя думаю, добавлю пару записей задним числом из недавних разговоров - про тот же план работ.&lt;/p&gt;
&lt;p&gt;Для начала пускай это дело просто в gist'е живет - каждый день новый файлик. Лениво с полноценным блогом для такого заморачиваться.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Заготовка вертолета, гм:&lt;/p&gt;
&lt;img alt="Заготовка вертолета" src="http://i.imgur.com/wfF0Z0Q.png" /&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;В фоне потихоньку вожусь с удалением констант с индексами из кода сцены (&lt;a class="reference external" href="https://github.com/ozkriff/zoc/issues/154"&gt;#154&lt;/a&gt;).
Сами константы удалил, теперь все получается динамически, но при
движении отрядов или переходе хода оно падает. Надо искать, что я там напутал)&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ozkriff</dc:creator><pubDate>Thu, 28 Jan 2016 00:00:00 +0300</pubDate><guid>tag:ozkriff.github.io,2016-01-28:2016-01-28--devlog.html</guid><category>devlog</category><category>zoc</category></item><item><title>Мастерплан и мотивация</title><link>http://ozkriff.github.io/2016-01-27--devlog.html</link><description>&lt;p&gt;Знакомый скинул ссылку на вполне себе интересную &lt;a class="reference external" href="https://www.reddit.com/r/gamedev/comments/426148"&gt;серию статей в реддите&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Хм, ну базовый цикл у меня близок к цивилизации - &amp;quot;Select unit, move unit, combat/gather, repeat.&amp;quot;
у меня тоже ты &amp;quot;выбираешь отряд, двигаешь/атакуешь/используешь навык, заново&amp;quot;.&lt;/p&gt;
&lt;p&gt;прототип - я большую часть механики беру из игры Battle Academy, так что она уже служит начальным прототипом)
Плюс, я вот сейчас &amp;quot;отыгрываю&amp;quot; игру в блендере на макете игры.
Туман войны так не симулируешь, а вот базовую логику сражений - вполне.
Так-то у меня само приложение сейчас и в ближайшее время, как по нему и видно, на стадии прототипа -
практически никакого интерфейса, эффектов, анимацией и т.п
только игровая логика, всплывающие текстовые надписи и бааазовая визуализация.&lt;/p&gt;
&lt;p&gt;как оно сейчас есть оно мне нравилось более-менее, но при попытке сделать карту побольше я понял,
что города выглядят страшно криво и бесят меня
вот и задумался над переделкой механики - в итоге увеличил клетки&lt;/p&gt;
&lt;p&gt;Те же технические моменты, типа перехода на glium, я на потом откладываю.
Собственно, главное что бы оно на андроиде работало и я мог проверять игру на планшете - в первую очередь для тыкалок же делается.&lt;/p&gt;
&lt;p&gt;И да, все это - тактический режим, поверх которого должен быть еще стратегический с глобальной картой.
Но с стратегическим я пока решил не запариваться сильно, потому что тактический должен быть цельной игрой сам по себе.&lt;/p&gt;
&lt;p&gt;Стратегический в итоге должен как-то так выглядеть:&lt;/p&gt;
&lt;img alt="Набросок стратегического режима" src="http://i.imgur.com/uMQPqhY.jpg" /&gt;
&lt;p&gt;и определять контекст для тактических сражений.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;перехожу ко второй статье)&lt;/p&gt;
&lt;p&gt;вчера утром знакомому уже писал свой план на ближайший месяц-два&lt;/p&gt;
&lt;p&gt;сделать в блендере модельки-прототипы базовых видов солдат-техники, затем изменить код игры,
что бы оно поддерживало три слота, вклячить в игру здания и дороги, затем вклячить новые виды
юнитов с базовой математикой боя для них и добавить условия победы в режиме хотсит.
Что бы в итоге в это можно было играть полноценно.&lt;/p&gt;
&lt;p&gt;Предполагается, что это все где-то на месяц.
Хочу сосредоточиться на получении чего-то играбельного, пускай и технически убогого и вообще схематического.&lt;/p&gt;
&lt;p&gt;Когда это сделаю, тогда в планах сначала переход на glium, затем сетевая игра.&lt;/p&gt;
&lt;p&gt;А дальше план уже более размытый:
добавить редактор карт, загрузки-сохранения, кое-какие спецэффекты
довести тактический режим до вида &amp;quot;не очень стыдно показать обычному знакомому, который играет в игры, но в их производстве вообще ничего не понимает&amp;quot;
и потом начать работать над стратегическим режимом.&lt;/p&gt;
&lt;p&gt;Точное время на задачи я даже не буду пытаться прикинуть, все равно долго выйдет.
Думаю категориями &amp;quot;вот до такой стадии было бы неплохо добраться через два месяца, это еще через месяц-другой&amp;quot;.&lt;/p&gt;
&lt;p&gt;&amp;quot;Are you disciplined enough to stay 100% productive over that amount of time?&amp;quot; -
гм, 100% буду время от времени забрасывать к чертям проект на неделю-другую
как на новый год) а то так с ума сойдешь)
но даже в такие перерывы я где-то в фоне все равно продолжаю думать на зоком, так что уверен, что сам проект не брошу.&lt;/p&gt;
&lt;p&gt;Да, наверное стоит создать суперзадачу на гитхабе &amp;quot;Закончить прототип тактического режима&amp;quot;
с более-менее детальным списком дел в масштабе день-неделя.
Постепенное проставление галочек и правда должно мотивировать, я люблю такие штуки))&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Перехожу к третьей части, про мотивацию - важная штука)&lt;/p&gt;
&lt;p&gt;у меня один из способов мотивировать себя - написание всего этого дела на ржавчине) все-таки интересный язык сам по себе.
клево с ним разбираться, но и времени на это уходит сильно больше, чем если бы я просто на плюсах написал то же самое,
даже свой простенький графический движок.
Но мне так не хочется еще и в свободное время пачкать руки в плюсах))&lt;/p&gt;
&lt;p&gt;Хм, у меня, наверное, два больших источника вдохновения - это стратегические игры,
типа Unity of Command, Battle of the Bulge, В Тылу Врага, Close Combat, Uniwar и т.п.
Когда дело ну вообще никак не идет, то я хотя бы на вечер забиваю на zoc совсем и сажусь
как следует в чего-нибудь стратегическое поиграть. В процессе почти всегда появляются мысли
вроде &amp;quot;черт, сюда бы такую-то возможность добавить, вот было бы круто&amp;quot;)&lt;/p&gt;
&lt;p&gt;И еще схемки - или нарисованные на бумаге&lt;/p&gt;
&lt;img alt="Набросок 2д варианта с абстрактными городами" src="http://i.imgur.com/EfK9lMD.jpg" /&gt;
&lt;img alt="Набросок 2д варианта с конкретными одноклеточными зданиями" src="http://i.imgur.com/CLyuRLy.png" /&gt;
&lt;p&gt;в таком духе, я их мноооого рисую когда думаю)&lt;/p&gt;
&lt;p&gt;или макеты в блендере, как вот который сейчас делаю потихоньку&lt;/p&gt;
&lt;img alt="Блендерный макет" src="http://i.imgur.com/6V73Ouw.png" /&gt;
&lt;p&gt;Смотришь на это дело и сразу представляешь, как было бы клево, если бы оно могло &amp;quot;ожить&amp;quot;.
Что бы вон та артиллерия могла дать залп дымовыми перед вражеским городом, эта пехота забраться
в броневики и ломануться навстречу, а вон те танки в это время при поддержке вертолетов зашли
в бок и подавили бы с расстояния часть сил врага и блаблабла))&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ozkriff</dc:creator><pubDate>Wed, 27 Jan 2016 00:00:00 +0300</pubDate><guid>tag:ozkriff.github.io,2016-01-27:2016-01-27--devlog.html</guid><category>devlog</category><category>zoc</category></item><item><title>Форы</title><link>http://ozkriff.github.io/2016-01-26--devlog.html</link><description>&lt;p&gt;Недавно тут наткнулся на &lt;a class="reference external" href="http://www.progamer.ru/dev/handicaps.htm"&gt;статью про гандикапы&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Может для сетевого режима ЗК замена обычных рейтингов на уменьшающиеся при
победах гандикапы (форы) и не такая глупая идея. Все-таки вполне себе
способ повысить интерес при игре с сильно отличающимся по уровню игры противником.&lt;/p&gt;
&lt;p&gt;Например, банально давать меньше стартовых очков.
Тогда и рейтинг можно упразднить, вместо него использовать размер гандикапа).
Типа, когда начинаешь играть, твой рейтинггандикап - 200%.
Т.е. у тебя, допустим, 200% стартовых очков, а у топовых игроков будет рейтинггандикап в 60% или типа того.
Правда тупо менять количество стартовых очков - слишком дуболомное решение, надо чего-то более хитрое придумать.&lt;/p&gt;
&lt;p&gt;Для игры со знакомыми можно просто договориться и не тратить все очки или еще какое условие поставить,
но это как-то &amp;quot;не круто&amp;quot;. Пробовал много раз так делать со знакомыми, но, обычно, весело не было.
Появляется какое-то чувство кустарности, которое меня порядочно нервирует.
Еще вручную за договоренностями бывает сложно следить.
Точно помню пару раз, как я &amp;quot;ой, так у меня же полторы тыщи очков, чего я туплю?
Вооот, тут покупаю крейсер и он всех выносит, бббабах! ..ой, черт&amp;quot;.
Ну и интересный домашний гандикап еще надо придумать, что бы игра не поломалась как система.&lt;/p&gt;
&lt;p&gt;Надо посмотреть, как это дело в более традиционном спорте используется.
В Go вон вообще всякой хитроты &lt;a class="reference external" href="https://ru.wikipedia.org/wiki/%D0%A4%D0%BE%D1%80%D0%B0#.D0.A4.D0.BE.D1.80.D0.B0_.D0.B2_.D0.B3.D0.BE"&gt;понапридумывали&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Подумал-подумал и пока решил, что если и планировать такое, то только в виде параллельного обычному
рейтинговому топа, в порядке эксперимента, а то слишком уж тут много тонкостей у этого подхода.&lt;/p&gt;
&lt;p&gt;Но это так, мысли про далекое будущее все :) .&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ozkriff</dc:creator><pubDate>Tue, 26 Jan 2016 00:00:00 +0300</pubDate><guid>tag:ozkriff.github.io,2016-01-26:2016-01-26--devlog.html</guid><category>devlog</category><category>zoc</category></item><item><title>Сложности с crates.io и конфиги из открытого космоса</title><link>http://ozkriff.github.io/2016-01-25--devlog.html</link><description>&lt;p&gt;Сунулся наконец-то выложить zoc на crates.io.
А, оказывается, даже если пакеты лежат в одном репозитории, их надо выкладывать на
crates.io отдельно.&lt;/p&gt;
&lt;p&gt;Посмотрел gfx - они тоже каждый пакет, оказывается, отдельно выкладывают :( .
Эх, совсем не хочется загаживать crates.io своими бессмысленными пакетами, они явно никому не пригодятся.&lt;/p&gt;
&lt;p&gt;Можно бы на модули разбить, а не пакеты, но так инкрементальная сборка будет опять занимать
минуту и сложности с привязками к OpenGL возникают.&lt;/p&gt;
&lt;p&gt;Нафиг тогда выкладывание на crates.io, пока на glium не перейду.
Мне не так сильно этот crates.io и нужен, просто немного неприятно, что про твой код забывают
при проверке всяких поломок при обновлениях библиотек.
Ну да ничего, пару месяцев уж потерплю.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Возился в связи с этим с Cargo.toml и Cargo.lock.
Хоспади, ну все-таки как мне не нравится этот TOML. =(&lt;/p&gt;
&lt;p&gt;Он в некоторых случаях и правда неплохо справляется, но при работе с ним все время чувство костылей есть.
Как-то у него фокус на частности, а не на нормальное обобщенное решение.
В целом ничего формат, особенно для простых конфигов, но вот синтаксис таблиц
меня ужасает.&lt;/p&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ozkriff</dc:creator><pubDate>Mon, 25 Jan 2016 00:00:00 +0300</pubDate><guid>tag:ozkriff.github.io,2016-01-25:2016-01-25--devlog.html</guid><category>devlog</category><category>zoc</category></item><item><title>Перезапуск журнала</title><link>http://ozkriff.github.io/2015-11-30--devlog-live-again.html</link><description>&lt;p&gt;Насмотрелся я тут на журналы &lt;a class="reference external" href="http://reangdblog.blogspot.com"&gt;reangd&lt;/a&gt;, &lt;a class="reference external" href="http://www.gridsagegames.com/blog"&gt;cogmind&lt;/a&gt;, &lt;a class="reference external" href="https://eao197.blogspot.ru"&gt;eao197&lt;/a&gt; и всякие
другие, решил что тоже чего-нибудь хочу писать.
С последней моей попытки прошло около полутора лет)&lt;/p&gt;
&lt;p&gt;Итак, на момент написания прошлой заметки я работал над Миром Кораблей в
&lt;a class="reference external" href="https://wargaming.com/ru/about/our-locations/saint-petersburg"&gt;питерском wargaming.net&lt;/a&gt;.
Собственно, я успел уйти оттуда, поработать над казуалками в
&lt;a class="reference external" href="http://zillionwhales.ru"&gt;Zillion Whales&lt;/a&gt;, оттуда тоже уйти и осесть в
&lt;a class="reference external" href="protei.ru"&gt;Протее&lt;/a&gt;. Так что сейчас я ковыряю ip-телефонию и все игры теперь только
в свободное время, зато не надо каждый день &amp;quot;любоваться&amp;quot; на ужасы фритуплея)&lt;/p&gt;
&lt;p&gt;Я больше не студент, совсем - наконец-то закончил заочку в политехе,
ура-ура! :-D
Темой диплома как раз и был этот проект, даже &lt;a class="reference external" href="pdfs/lesnikov_a_a_slides_2015.pdf"&gt;презентация&lt;/a&gt; вот завалялась.
Хотя ничего особо крутого, как мне изначально хотелось, на деле не вышло.
Ключевым моментом диплома являлся ИИ. Я там подробно расписал
какие они бывают и какие виды подходят для каких игр.
А вот реализовать полноценный не успел - сдавался вариант, который только
формально можно было назвать &amp;quot;практичным ИИ&amp;quot;
(извиняюсь, но лучшего перевода для &amp;quot;utility-based AI&amp;quot; не нашел.
&amp;quot;ИИ, основанный на теории полезности&amp;quot; как-то длинновато).
Он примерял к текущему состоянию игры захардкоженные шаблоны
на основе позиций и типов отрядов, оценивал
коэффециент их полезности, и втупую применял их.
На специально подготовленных ситуациях выглядело не так и плохо,
но это отмазочный вариант, конечно. И с очень стремным кодом,
так что в git'е сейчас так и лежит
базовый &amp;quot;ИИ&amp;quot; - подъехать в на расстояние выстрела и стрелять :-| .
Но общий обыт был интересным)&lt;/p&gt;
&lt;p&gt;Сама ржавчина, конечно, за это время сильно выросла, с 0.10 аж до 1.4.
Вместо извращений по установке зависимостей или возни с git submodules,
появился cargo.
По достижении 1.0 появилась обратная совместимость. Хотя конкретно от
этого я и не в полном восторге, руки у авторов языка теперь &amp;quot;полусвязаны&amp;quot;,
но переписываний и правда стало меньше,
только когда библиотеки чего-то ломают. Да и с этим Cargo.lock очень
помогает. Хотя, я уже месяца полтора его не обновлял - ух и сложный
же следующий &lt;tt class="docutils literal"&gt;cargo update&lt;/tt&gt; у меня будет.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;За полтора года я успел переиграть много во что повлияевшего
на мое видение пошаговых стратегий, например:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;малоизвестная &lt;a class="reference external" href="https://store.steampowered.com/app/306640"&gt;Battle Academy 2&lt;/a&gt; из которой я решил фактически
передрать ядро механики для тактического режима :) - взаимодействие
видов войск, быстрое/осторожное передвижение, хитрая видимость,
реакционный огонь, боевой дух/подавление и т.п.;&lt;/li&gt;
&lt;li&gt;чуть более известная &lt;a class="reference external" href="https://store.steampowered.com/app/218090"&gt;Unity of Command&lt;/a&gt; повлияла на мое видение
стратегического режима - хитрая система линий снабжения, механика
окружений и т.п.;&lt;/li&gt;
&lt;li&gt;мобильная &lt;a class="reference external" href="https://play.google.com/store/apps/details?id=android.uniwar"&gt;Uniwar&lt;/a&gt; - классная система параллельных сетевых игр,
а сама по себе игровая механика напоминает, что шестигранникам
минимализм никогда не помешает;&lt;/li&gt;
&lt;li&gt;серия Wargame, а именно &lt;a class="reference external" href="https://store.steampowered.com/app/222750"&gt;W:AB&lt;/a&gt; и &lt;a class="reference external" href="https://store.steampowered.com/app/251060"&gt;W:RD&lt;/a&gt; - одна из немногих стратегий в
реальном времени, в которую я с удовольствием поиграл за долгое время.
Интересна своим балансом между реализмом/&amp;quot;веселостью&amp;quot; и взаимодействием
между разными видами войск.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Много думал про пошаговые игры без клеток, все-таки у клеток много
недостатков/особенностей. Даже немного экспериментировал - сделал
простенькое путенахождение по вручную размеченной навигационной сетке:&lt;/p&gt;
&lt;img alt="Пример простого путенахождения на вручную размеченной сетке" src="images/2015-07-30--manual-navmesh-simple-pathfinding.png" /&gt;
&lt;p&gt;Путь проложен по центрам треугольников, для оптимизации потом хотел
прикрутить &lt;a class="reference external" href="http://digestingduck.blogspot.ru/2010/03/simple-stupid-funnel-algorithm.html"&gt;funnel algorithm&lt;/a&gt;, но до этого этапа не дошло.
Если что, шестигранники тут уже ничего не значат, просто
на основе работающего прилжожения экспериментировал.
Затем, написал простенький &amp;quot;наращиватель&amp;quot; препятствий, который
в зависимости от величины угла добавлял разное количество
вспомогательных отрезков:&lt;/p&gt;
&lt;img alt="Пример нарощенного препятствия" src="images/2015-08-02--obstacle-grow.png" /&gt;
&lt;p&gt;Предполагалось, что все юниты будут поделены на несколько групп
по размерам и для каждой группы будет поддерживаться своя сетка.
Непосредственно преобразованием массива таких &amp;quot;жирных&amp;quot; препятствий в сетку
должен был заниматься триангулятор. Мне большего всего приглянулся плюсовый
&lt;a class="reference external" href="https://code.google.com/p/poly2tri"&gt;poly2tri&lt;/a&gt;:&lt;/p&gt;
&lt;img alt="Всякие стандартные примеры из poly2tri" src="images/2015-08-11--triangulation-cpp-demo.png" /&gt;
&lt;p&gt;Даже пытался портировать его на ржавчину, но там очень стремная работа с
памятью, очень хреново укладывается в модель ржавчины.
Пробовал переделать плюсовую версию на работу с массивами и индексами,
но потом решил что очень уж много на эксперимент уходит времени, энтузиазм
про бесклеточные игры прошел, так что я совсем забросил попытку.&lt;/p&gt;
&lt;p&gt;Ну да ладно, темы вдохновляющих игр, разных видов клеток и непрерывного
пространства достойны отдельных заметок, а эта запись и так большой
получается.&lt;/p&gt;
&lt;hr class="docutils" /&gt;
&lt;p&gt;Теперь, наконец-то, что касается самого проекта.&lt;/p&gt;
&lt;p&gt;Прежде всего, он переименован из Марoдера в Зону Контроля (Zone of Control).
Сокращенно - ЗК/ZoC. Гитхабовское хранилище переехало в
&lt;a class="reference external" href="https://github.com/ozkriff/zoc"&gt;https://github.com/ozkriff/zoc&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Внешний вид с момента сдачи диплома изменился слабо и выглядит все это
безобразие сейчас как-то так:&lt;/p&gt;
&lt;div class="youtube"&gt;&lt;iframe
    frameborder="0"
    allowfullscreen
    src="https://www.youtube.com/embed/srJAfngSwxk?color=white&amp;rel=0&amp;showinfo=0"
&gt;&lt;/iframe&gt;&lt;/div&gt;&lt;p&gt;Собственно, да, я портировал это на android, хотя под линуксом и виндой тоже
должно работать.
Спасибо Skligus'y за его &lt;a class="reference external" href="https://github.com/skligys/rusty-cardboard"&gt;rusty-cardboard&lt;/a&gt;, очень помогло поначалу,
и Tomaka за его &lt;a class="reference external" href="https://github.com/tomaka/glutin"&gt;glutin&lt;/a&gt; и &lt;a class="reference external" href="https://github.com/tomaka/android-rs-glue"&gt;android-rs-glue&lt;/a&gt;.
К сожалению, для сборки под андроид требуется ночная сборка rustc, потому
что в android-rs-glue используются какие-то нестабильные штуки.
Хотя надо перепроверить, может уже и стабильного компилятора хватит
- ржавчина так быстро развивается :).&lt;/p&gt;
&lt;p&gt;Кстати, да, переписал с glfw-rs на &lt;a class="reference external" href="https://github.com/tomaka/glutin"&gt;glutin&lt;/a&gt; - чем больше кода на ржавчине,
тем прощe, особенно при сборке на разных платформах.
Еще хотел со своих &lt;a class="reference external" href="https://github.com/ozkriff/zoc/tree/47e8f0/src/zgl/src"&gt;костылей вокруг OpenGL&lt;/a&gt; перейти на &lt;a class="reference external" href="https://github.com/tomaka/glium"&gt;glium&lt;/a&gt;,
но пока не осилил.&lt;/p&gt;
&lt;p&gt;Переделал с выделения через цветовой буфер на чистую математику
- пересечение луча из курсора с плоскостью карты, бла бла блап.
Уж очень много от времени отрисоки кадра оно сжирало, да и с шейдерами
так меньше хлопот.&lt;/p&gt;
&lt;p&gt;Но это все про техническую часть. Что касается самой игры, то:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;два захардкоженых режима на одной карте с одним набором войск
- против тупого ИИ или хотсит на двух игроков;&lt;/li&gt;
&lt;li&gt;от одного до пяти членов отряда в клетке -
отказался от идеи иметь несколько отрядов в слотах одной клетки,
потому что так и не придумал, как это все нормально отображать
и как этим управлять. Хотя, при введении зданий и летающих отрядов,
наверное, придется тут усложнить ситуацию;&lt;/li&gt;
&lt;li&gt;до двух активных очков атаки для стрельбы по прямому приказу игрока;&lt;/li&gt;
&lt;li&gt;одно пассивное очко атаки для реакционного огня в чужой ход (как в x-com)
+ неиспользованные в свой ход активные очки атаки становятся пассивными;&lt;/li&gt;
&lt;li&gt;вероятность поражения с (пока что) захардкожеными вероятностями попадания
в зависимости от типа атакующего, защищающегося и местности;&lt;/li&gt;
&lt;li&gt;кривоватый туман войны, который впоследствии, видимо, будут переведен
на менее дискретный алгоритм;&lt;/li&gt;
&lt;li&gt;заготовка системы боевого духа и подавления - каждый ход
восстанавливается 10 очков морали, за каждую атаку снимается
по 10, если мораль падает ниже половины - отряд не может стрелять;&lt;/li&gt;
&lt;li&gt;разная стоимость движения по местности для разных отрядов;&lt;/li&gt;
&lt;li&gt;два режима передвижения - быстрый и осторожный, который стоит в два
раза дороже, зато не накладывает штрафы на точность при стрельбе
и при попадании под огонь отряд не лишается оставшихся очков движения;&lt;/li&gt;
&lt;li&gt;тестовый грузовик для транспортировки пехоты;&lt;/li&gt;
&lt;li&gt;механика видимости из BA2 с двумя радиусами - &amp;quot;нормальная&amp;quot; и &amp;quot;отличная&amp;quot;
видимость. Последняя позволяет увидеть скрытые юниты (например, пехоту в лесу);&lt;/li&gt;
&lt;li&gt;атаки из засад, если атакующий изначально невидим, с бонусом к атаке и
шансом не раскрыть свою позицию;&lt;/li&gt;
&lt;li&gt;приказ &amp;quot;не стрелять&amp;quot; для отключения реакционного огня при организации
хитрых засад или для разведчиков;&lt;/li&gt;
&lt;li&gt;пока что только четыре вида отрядов:&lt;ul&gt;
&lt;li&gt;пехота - четыре человека, одна клетка отличной видимости,
умеют тихориться в лесу;&lt;/li&gt;
&lt;li&gt;разведчики - как пехота, только всего 2 человека, зато видят
и бегают немного быстрее;&lt;/li&gt;
&lt;li&gt;танк - громко стреляет и толсто бронирован, зато у него вообще
нет отличной видимости (попробуй что через щели в броне рассмотреть)
- без пехотного прикрытия рядом с лесом ему ездить не стоит;&lt;/li&gt;
&lt;li&gt;грузовик - не умеет стрелять, очень хрупкий и подслеповатый, зато
быстрее всех остальных отрядов и может перевозить пехоту;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ну, вот как-то так. Разработка, как видно, сильно &lt;a class="reference external" href="http://mysweetwhomp.fr/private/119228173847/tumblr_noimn4cVks1u4yjir"&gt;затянулась&lt;/a&gt; - я-то хотел
такое уже через пару месяцев иметь, ха!
То ли мне просто лень, то ли времени и правда мало получается выделять,
черт его знает.
Уже мнооого раз полностью терял весь энтузиазм и забрасывал игру на
пару месяев, даже пытался чего-то другое делать.
Но потом возвращался, что бы все-таки надо довести до ума эту чертову ЗК :) .
Да и вышеупомянутые игры сильно помогали с вдохновением)&lt;/p&gt;
&lt;p&gt;Вот, собственно, вся первая запись. Вряд ли я буду теперь пытаться делать
недельные отчеты, скорее буду писать более мелкие заметки по настроению
- регулярность вытягивает из любого дела весь интерес.
Ну и писать тут буду, наверное, не только по делу - смотрите теги :) .&lt;/p&gt;
&lt;!-- vim: set tabstop=4 shiftwidth=4 softtabstop=4 expandtab: --&gt;
</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">ozkriff</dc:creator><pubDate>Mon, 30 Nov 2015 00:00:00 +0300</pubDate><guid>tag:ozkriff.github.io,2015-11-30:2015-11-30--devlog-live-again.html</guid><category>devlog</category><category>zoc</category></item></channel></rss>