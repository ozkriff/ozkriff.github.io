<!DOCTYPE html>
<html lang="en">
    <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta http-equiv="content-type" content="text/html; charset=utf-8">

      <!-- Enable responsiveness on mobile devices-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

      <title>ozkriff&#x27;s devlog</title>

      <!-- CSS -->
      <link rel="stylesheet" href="https:&#x2F;&#x2F;ozkriff.github.io&#x2F;print.css" media="print">
      <link rel="stylesheet" href="https:&#x2F;&#x2F;ozkriff.github.io&#x2F;poole.css">
      <link rel="stylesheet" href="https:&#x2F;&#x2F;ozkriff.github.io&#x2F;hyde.css">
      <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400italic,700|Abril+Fatface">

      
        <link rel="shortcut icon" type="image/png" href="https:&#x2F;&#x2F;ozkriff.github.io&#x2F;favicon.png">
      

      
        <link rel="alternate" type="application/rss+xml" title="RSS" href="https:&#x2F;&#x2F;ozkriff.github.io&#x2F;rss.xml">
      

      
        <!-- Global Site Tag (gtag.js) - Google Analytics -->
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-70829739-1"></script>
        <script>
          window.dataLayer = window.dataLayer || [];
          function gtag(){dataLayer.push(arguments);}
          gtag('js', new Date());
          gtag('config', 'UA-70829739-1');
        </script>
      

      
      
    </head>

    <body class=" ">
        
            <div class="sidebar">
                <div class="container ">
                    <div class="sidebar-about">
                        
                            <a href="https:&#x2F;&#x2F;ozkriff.github.io"><h1>ozkriff&#x27;s devlog</h1></a>
                            
                        
                    </div>

                    <ul class="sidebar-nav">
                        
                        
                        <li class="sidebar-nav-item"><a href="&#x2F;pages&#x2F;about">about</a></li>
                        
                        <li class="sidebar-nav-item"><a href="https:&#x2F;&#x2F;twitter.com&#x2F;ozkriff">twitter</a></li>
                        
                        <li class="sidebar-nav-item"><a href="https:&#x2F;&#x2F;github.com&#x2F;ozkriff">github</a></li>
                        
                        
                    </ul>
                </div>
            </div>
        

        <div class="content container">
            
<div class="post">
  <h1 class="post-title">Zemeroth v0.5: ggez, WASM, itch.io, visuals, AI, campaign, tests</h1>
  
  <span class="post-date">2019-05-13</span>
  
  <!-- markdownlint-disable MD013 -->
<!-- cspell:ignore Berserker Muton kiegel Yururu ldjam devs itchio PNGs -->
<p>Hi, folks! I'm happy to announce <strong>Zemeroth v0.5</strong>.
Main features of this release are:
migration to ggez, web version, itch.io page, campaign mode,
AI improvements, visual updates, and tests.</p>
<p><img src="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/2019-04-29--title-demo.gif" alt="demo fight" /></p>
<p><a href="https://github.com/ozkriff/zemeroth">Zemeroth</a> is a turn-based hexagonal tactical game written in Rust.
You can <a href="https://github.com/ozkriff/zemeroth/releases/tag/v0.5.0">download precompiled v0.5 binaries</a>
for Windows, Linux, and macOS.
Also, now you can <strong><a href="https://ozkriff.itch.io/zemeroth">play an online version</a></strong>
(<em>read more about it in the &quot;WebAssembly version&quot; section below</em>).</p>
<blockquote>
<p><img src="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/2019-04-27--github-commits.png" alt="GitHub commits graph" /></p>
</blockquote>
<p>The last release happened about a year ago.
Since then the development mostly happened in irregular bursts,
sometimes it even was completely stalled for weeks.
But a year is a big period of time anyway, so there're still lots of changes.</p>
<p>Lots of text ahead, feel free to skip sections
that you're not interested in particularly.
Here's a table of contents:</p>
<ul>
<li><a href="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/#migration-to-the-ggez-game-engine">Migration to the <code>ggez</code> Game Engine</a></li>
<li><a href="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/#webassembly-version">WebAssembly Version</a></li>
<li><a href="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/#itchio">itch.io</a></li>
<li><a href="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/#visual-improvements">Visual Improvements</a></li>
<li><a href="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/#campaign-mode">Campaign Mode</a></li>
<li><a href="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/#hit-chances">Hit Chances</a></li>
<li><a href="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/#armor">Armor</a></li>
<li><a href="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/#ai-updates">AI Updates</a></li>
<li><a href="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/#bombs-and-commutative-effects">Bombs and Commutative Effects</a></li>
<li><a href="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/#other-game-rules-changes">Other Game Rules Changes</a></li>
<li><a href="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/#gameplay-video">Gameplay Video</a></li>
<li><a href="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/#svg-atlas">SVG Atlas</a></li>
<li><a href="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/#assets-hash">Assets Hash</a></li>
<li><a href="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/#tests">Tests</a></li>
<li><a href="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/#other-technical-changes">Other Technical Changes</a></li>
<li><a href="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/#indikator">Indikator</a></li>
<li><a href="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/#migrated-this-devlog-to-zola">Migrated This Devlog to Zola</a></li>
<li><a href="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/#roadmap">Roadmap</a></li>
</ul>
<h2 id="migration-to-the-ggez-game-engine">Migration to the <code>ggez</code> Game Engine</h2>
<p>An experiment with maintaining my own engine
(even a simple and minimalistic 2D one)
turned out to be too exhausting in practice:
you have to fight a constant stream of reports about small corner case issues
and deal with platform-specific tweaks and hacks
(stuff <a href="https://github.com/ggez/ggez/issues/587">like this</a>, for example).
It can consume surprisingly large amounts of time.
But what's more important for a hobby project,
it also sucks too much fun out of the development process.</p>
<p>And what made it worse in my case is that <a href="https://docs.rs/hate">H√§te2d</a> intentionally wasn't
a general-purpose game engine (to reduce the scope of work),
so it was sad to know that all this work won't be reused by anyone.
But converting H√§te into a real general-purpose engine wasn't an option either,
because it wouldn't have left any time for Zemeroth's development.</p>
<p>So I've surrendered and decided to give away some control over
low-level parts of Zemeroth:
<a href="https://github.com/ozkriff/zemeroth/pull/247">H√§te2d was discontinued</a> and replaced by <a href="https://github.com/ggez/ggez">ggez</a>, the most mature and
actively developed Rust 2d game engine at that time.</p>
<p><img src="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/ggez-logo-maroon-full.svg" alt="ggez's logo" /></p>
<p><code>h√§te</code> had some built-in basic
<a href="https://docs.rs/hate/0.1.0/hate/scene/">scene management</a>
and <a href="https://docs.rs/hate/0.1.0/hate/gui/">GUI</a> systems,
but ggez is minimalistic by design and has none of this.
So, two helper crates were extracted from H√§te2d and rebuilt on top of ggez:</p>
<ul>
<li><a href="https://github.com/ozkriff/zemeroth/tree/721ad06a6/ggwp-zscene">ggwp-zscene</a>
is a simple scene/declarative animation manager that provides:
<ul>
<li>Sprites with shared data;</li>
<li>Scene and Actions to manipulate sprites;</li>
<li>Simple layers;</li>
</ul>
</li>
<li><a href="https://github.com/ozkriff/zemeroth/tree/721ad06a6/ggwp-zgui">ggwp-zgui</a>
is a tiny and opinionated UI library:
<ul>
<li>Provides only simple labels, buttons and layouts;</li>
<li>Handles only basic click event;</li>
<li>No custom styles, only the basic one.</li>
</ul>
</li>
</ul>
<p>Since Icefoxen <a href="https://github.com/ggez/ggez/issues/373">asked not to use <code>ggez-</code> prefix</a>,
I used <code>ggwp-</code> (&quot;good game, well played!&quot;) to denote that the crate
belongs to ggez's ecosystem, but is not official.</p>
<p>These helper crates are still tied to Zemeroth,
not sure how helpful these libraries can be for a project
that is not Zemeroth-like.
But maybe someone will manage to extract some benefit from them.</p>
<p>These crates are still immature and aren't published on crates.io yet,
while the <code>rancor</code> component library was renamed to <code>zcomponents</code> and
<a href="https://crates.io/crates/zcomponents">is published</a>.</p>
<hr />
<p>Initially, I migrated to ggez v0.4 that was SDL2-based.
But as soon as the first release candidate of <a href="https://github.com/rust-windowing/winit">winit</a>-based ggez v0.5
became available I attempted to migrate to it.
I've filed <a href="https://github.com/ggez/ggez/issues?q=is%3Aissue+author%3Aozkriff+created%3A%3E2019-01-01">a bunch of mostly text-related issues in the process</a>
and tried to fix the most critical ones for Zemeroth:
<a href="https://github.com/ggez/ggez/pull/559">&quot;Remove the generic argument from Drawable::draw&quot;</a>,
<a href="https://github.com/ggez/ggez/pull/567">&quot;Drawable::dimensions()&quot;</a> (big one!)
and <a href="https://github.com/ggez/ggez/pull/593">&quot;Fix Text::dimensions height&quot;</a>.
These PRs took some time, but then I relatively easy
<a href="https://github.com/ozkriff/zemeroth/pull/426">ported Zemeroth to ggez v0.5.0-rc.0</a>.</p>
<p>ggez v0.5 isn't released yet, so at the moment
Zemeroth uses ggez <code>0.5.0-rc.1</code>. It's stable enough for me.</p>
<hr />
<p><img src="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/2019-05-03--na.png" alt="nalgebra logo" /></p>
<p>Before the migration,
I was using <a href="https://github.com/rustgd/cgmath">cgmath</a>, because it's a simple and straightforward library.
But ggez's &quot;native&quot; math library is nalgebra and
even though ggez v0.5 uses <code>mint</code> types for all its public API,
I still migrated to nalgebra, because
of <a href="https://users.rust-lang.org/t/cgmath-looking-for-new-maintainers/20406">this</a>.</p>
<hr />
<p>One downside of the migration to ggez is that debug builds are much slower now
because more code is pure Rust.
Something like 3-5 FPS on my notebook.
But it's ok, I don't need debug builds often,
I prefer debugging through logs anyway.
And when I really need a debug build to track down something extremely strange,
I can use cargo's yet unstable feature <a href="https://doc.rust-lang.org/nightly/cargo/reference/unstable.html#profile-overrides">&quot;profile-overrides&quot;</a>.</p>
<pre style="background-color:#2b303b;">
<span style="color:#bf616a;">cargo-features </span><span style="color:#c0c5ce;">= [&quot;</span><span style="color:#a3be8c;">profile-overrides</span><span style="color:#c0c5ce;">&quot;]

[profile.dev.overrides.&quot;</span><span style="color:#a3be8c;">*</span><span style="color:#c0c5ce;">&quot;]
</span><span style="color:#bf616a;">opt-level </span><span style="color:#c0c5ce;">= </span><span style="color:#d08770;">2
</span></pre>
<p>Another serious downside of the engine switch,
<a href="https://github.com/ggez/ggez/issues/70">though temporary (?)</a>,
is that there's no native Android version of the game for now.
But who really needs a native port when you have...</p>
<h2 id="webassembly-version">WebAssembly Version</h2>
<p>After ggez v0.5-rc.0 was published, Icefoxen has posted
<a href="https://wiki.alopex.li/TheStateOfGGEZ2019">&quot;The State Of GGEZ 2019&quot;</a>,
where among other things he wrote that
a web port is unlikely to happen soon because
a lot of issues in dependencies need to be fixed first.
It could be relatively easy to write a specialized web backend for ggez,
but ggez's philosophy is against having multiple backends.</p>
<p>And that's where <a href="https://twitter.com/notfl3">Fedor @not-fl3</a> suddenly comes in
with his <a href="https://github.com/not-fl3/good-web-game">good-web-game</a> WASM/WebGL game engine.
He had been experimenting with 2d web prototypes
(<a href="https://twitter.com/notfl3/status/1079499336243965952">like this one</a>)
for some time and used a custom 2d web engine for this.
The API of this engine was heavily inspired by ggez
so he managed to write a partly ggez-compatible wrapper in a weekend.</p>
<p>Colors are slightly off and text rendering is a little bit different,
but otherwise, it works nicely and smoothly,
providing the same experience:</p>
<p><a href="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/2019-01-29--web-port-vs-native.jpg"><img src="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/2019-01-29--web-port-vs-native.jpg" alt="web version vs native" /></a></p>
<p>Zemeroth uses good-web-game for its web version as a quick-n-dirty
immediate solution until a proper WASM support arrives to GGEZ
(there're no plans of making good-web-game some kind of official GGEZ backend
or anything like this).
The currently implemented subset of ggez's API is quite limited
and while it may be used for other games,
it will probably require a lot of work to do.</p>
<hr />
<p>You can't use crate renaming in <code>Cargo.toml</code> to reuse a name on different platforms,</p>
<pre style="background-color:#2b303b;">
<span style="color:#65737e;"># Cargo.toml with these dependencies wouldn&#39;t build:

</span><span style="color:#c0c5ce;">[target.&#39;</span><span style="color:#a3be8c;">cfg(not(target_arch = &quot;wasm32&quot;))</span><span style="color:#c0c5ce;">&#39;.dependencies]
</span><span style="color:#bf616a;">ggez </span><span style="color:#c0c5ce;">= &quot;</span><span style="color:#a3be8c;">0.5.0-rc.1</span><span style="color:#c0c5ce;">&quot;

[target.&#39;</span><span style="color:#a3be8c;">cfg(target_arch = &quot;wasm32&quot;)</span><span style="color:#c0c5ce;">&#39;.dependencies]
</span><span style="color:#bf616a;">ggez </span><span style="color:#c0c5ce;">= { </span><span style="color:#bf616a;">git </span><span style="color:#c0c5ce;">= &quot;</span><span style="color:#a3be8c;">https://github.com/not-fl3/good-web-game</span><span style="color:#c0c5ce;">&quot;, </span><span style="color:#bf616a;">package </span><span style="color:#c0c5ce;">= &quot;</span><span style="color:#a3be8c;">good-web-game</span><span style="color:#c0c5ce;">&quot; }
</span></pre>
<p>So the crate substitution hack is done in <code>main.rs</code>
using <code>extern crate</code> items in <code>main.rs</code>:</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">#[</span><span style="color:#bf616a;">cfg</span><span style="color:#c0c5ce;">(</span><span style="color:#bf616a;">not</span><span style="color:#c0c5ce;">(target_arch = &quot;</span><span style="color:#a3be8c;">wasm32</span><span style="color:#c0c5ce;">&quot;))]
</span><span style="color:#b48ead;">extern crate</span><span style="color:#c0c5ce;"> ggez;

#[</span><span style="color:#bf616a;">cfg</span><span style="color:#c0c5ce;">(target_arch = &quot;</span><span style="color:#a3be8c;">wasm32</span><span style="color:#c0c5ce;">&quot;)]
</span><span style="color:#b48ead;">extern crate</span><span style="color:#c0c5ce;"> good_web_game as ggez;
</span></pre>
<p>99.9% of code stays the same,
but I had to use a separate main, because good-web-game
has a different initialization API:</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">#[</span><span style="color:#bf616a;">cfg</span><span style="color:#c0c5ce;">(target_arch = &quot;</span><span style="color:#a3be8c;">wasm32</span><span style="color:#c0c5ce;">&quot;)]
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">main</span><span style="color:#c0c5ce;">() -&gt; GameResult {
    ggez::start(
        conf::Conf {
            cache: conf::Cache::Index,
            loading: conf::Loading::Embedded,
            ..Default::default()
        },
        |</span><span style="color:#b48ead;">mut </span><span style="color:#bf616a;">context</span><span style="color:#c0c5ce;">| {
            </span><span style="color:#b48ead;">let</span><span style="color:#c0c5ce;"> state = MainState::new(&amp;</span><span style="color:#b48ead;">mut</span><span style="color:#c0c5ce;"> context).</span><span style="color:#96b5b4;">unwrap</span><span style="color:#c0c5ce;">();
            event::run(context, state)
        },
    )
}
</span></pre>
<p>Finally, a short helper script <code>utils/wasm/build.sh</code> was added:</p>
<pre style="background-color:#2b303b;">
<span style="color:#65737e;">#!/bin/sh
</span><span style="color:#bf616a;">cp -r</span><span style="color:#c0c5ce;"> assets static
</span><span style="color:#bf616a;">cp</span><span style="color:#c0c5ce;"> utils/wasm/index.html static
</span><span style="color:#bf616a;">ls</span><span style="color:#c0c5ce;"> static &gt; static/index.txt
</span><span style="color:#bf616a;">cargo</span><span style="color:#c0c5ce;"> web build
</span></pre>
<ul>
<li><a href="https://github.com/koute/cargo-web">cargo-web</a> only packs a <code>static</code> directory (it's hardcoded),
so the script copies the game's assets there;</li>
<li>the <code>index.html</code> template page is also copied there;</li>
<li>all assets should be listed in <code>index.txt</code> for good-web-game to be able
to load them, so this file is created;</li>
</ul>
<p>You can find a minimal example of good-web-game
<a href="https://github.com/not-fl3/good-web-game/tree/9b362da6d/examples/simple">here</a>.</p>
<h2 id="itch-io">itch.io</h2>
<p>The web version needs to be hosted somewhere.
<a href="https://itch.io/">itch.io</a> is a nice place for this:</p>
<p><strong><a href="https://ozkriff.itch.io/zemeroth">ozkriff.itch.io/zemeroth</a></strong></p>
<p>it has a nice and simple UI (for both developers and consumers),
it's extremely <a href="https://itch.io/docs/creators/html5">easy to upload a web game there</a>
and it's a relatively known store for indie games that can provide
some exposure by itself.</p>
<p><a href="https://ozkriff.itch.io"><img src="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/2019-05-02--itch-ozkriff.png" alt="screenshot of the itch.io page" /></a></p>
<p>(<em><a href="https://ozkriff.itch.io/zoc">Zone of Control also got an itch.io page</a></em>)</p>
<hr />
<p>Note an &quot;Enter fullscreen&quot; button in the bottom right corner
of the game area:</p>
<p><img src="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/2019-04-26-wasm-fullscreen-button.png" alt="&quot;enter fullscreen&quot; button" /></p>
<hr />
<p>As I've said in the ggez section above,
the web version of the game seems to work fine on most mobile devices:</p>
<p><img src="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/2019-05-04--android-wasm.jpg" alt="web version on android device" /></p>
<hr />
<p>With a playable version only a click away
I received a lot of fresh feedback:
a lot of people that previously were only following the development
now actually tried to play the game.</p>
<p>The most important things people want to see improved are:</p>
<ul>
<li>Improve the GUI: Replace text buttons with icons, show some tooltips, etc;</li>
<li>Add a tutorial or at least a short guide;</li>
<li>Randomness is too frustrating: missed attacks should result in some
little positive effect, like pushing enemies back or reducing their stamina;</li>
<li>The game lacks ranged attack units, like archers or knife throwers.</li>
</ul>
<p>@Yururu even wrote
<a href="https://itch.io/post/660275">a giant comment</a> on the itch page!
It's inspiring when
a stranger from the internet breaks through the crude primitive interface,
figures out game mechanics on a quite deep level,
and writes a detailed review of their experience and thoughts.</p>
<hr />
<p>I've created <a href="https://www.reddit.com/r/rust/comments/arm9dr/a_list_of_itchio_games_written_in_rust">an itch.io list of Rust games</a>.
When I find a Rust game on itch.io I add it there.</p>
<p>Also, I've sent a request to itch.io folks to add Rust as an instrument,
so now a more official list is available:
<a href="https://itch.io/games/made-with-rust">itch.io/games/made-with-rust</a>
(you can edit a game's instruments here:
&quot;edit game&quot; -&gt; &quot;metadata&quot; -&gt; &quot;engines &amp; tools&quot;).
Looks like my original list will be deprecated with time but
it's still useful for now because only authors of the games can add
an instrument to the metadata.</p>
<h2 id="visual-improvements">Visual Improvements</h2>
<p><a href="https://twitter.com/ozkriff/status/975827153056075776">The initial draft</a>
of the new sprites looked like this:</p>
<p><img src="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/agents-inkscape-mockup.jpeg" alt="New style mockup" /></p>
<p>Tiles are flattened now.
It's less a schematic top-down view as it was before.
&quot;Camera&quot; is moved to the side so the tiles and agents are shown
using the same projection.</p>
<p>There're many gradients in the mockup image above.
Later I decided to get rid of all the gradients and curvy lines
and stick with &quot;pseudo lowpoly&quot; style.</p>
<p>Floating Eye and Insecto-snake agent types from the mockup
haven't made it to the master yet.</p>
<hr />
<p>All objects now have a shadow.
It makes the image a little bit more tangible.
Walk and especially throw animations feel better now.</p>
<p>Initially, shadow was an ellipse with gradient.
Later it was replaced by two semi-transparent hexagons
for style consistency.</p>
<hr />
<p><a href="https://github.com/ozkriff/zemeroth/pull/401">Added blood splatters and weapon flashes</a>
to make attacks more dramatic:</p>
<p><img src="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/2018-12-22--blood-splatters-and-weapon-flashes-demo-2.gif" alt="blood drops and weapon flashes demo" /></p>
<p>The number of drops depends on the attack's damage.
Blood slowly disappears into transparency in three turns,
otherwise, the battlefield would become a complete and unreadable mess.</p>
<p>Every agent now has <code>WeaponType</code>: &quot;smash&quot;, &quot;slash&quot;, &quot;pierce&quot;, and &quot;claw&quot;.
For now, they are just visual information.
They affect only what sprite is used during the attack animation.</p>
<p>Same as agent sprites, weapon flash sprites are not yet mirrored horizontally.
That is most noticeable with curvy smash sprite.</p>
<p>Also, spearman's &quot;pierce&quot; weapon sprite is horizontal and it looks weird
during vertical attacks.
Either multiple sprites are needed or
it should be rotated.</p>
<hr />
<p><a href="https://github.com/ozkriff/zemeroth/pull/390">Added a Dust effect</a> (for jumps and throws):</p>
<p><img src="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/2019-05-12--dust-clouds.gif" alt="dust demo" /></p>
<p>It is created by a simple function
that just emits a bunch of half-transparent sprites
and attaches position and color change actions to them.
Sprites' size, velocity, and transparency are a little bit randomized.</p>
<h2 id="campaign-mode">Campaign Mode</h2>
<p>A basic campaign mode was added.
It's just a linear sequence of battles with predefined scenarios.
After each battle, your survived fighters are carried over to the next battle.
If you lose a battle - the campaign is over for you.
If you win a battle, you're shown a transition screen with a list
of your dead fighters, your current squad, and possible recruits:</p>
<p><img src="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/2018-11-15--first-iteration-of-a-campaign-mode.png" alt="Campaign screen example" /></p>
<p>The campaign is defined by a <a href="https://github.com/ron-rs/ron">RON</a> config file with this structure:</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">initial_agents: [&quot;swordsman&quot;, &quot;alchemist&quot;],
nodes: [
    (
        scenario: (
            map_radius: (4),
            rocky_tiles_count: 8,
            objects: [
                (owner: Some((1)), typename: &quot;imp&quot;, line: Front, count: 3),
                (owner: Some((1)), typename: &quot;imp_bomber&quot;, line: Middle, count: 2),
            ],
        ),
        award: (
            recruits: [&quot;hammerman&quot;, &quot;alchemist&quot;],
        ),
    ),
    (
        scenario: (
            rocky_tiles_count: 10,
            objects: [
                (owner: None, typename: &quot;boulder&quot;, line: Any, count: 3),
                (owner: None, typename: &quot;spike_trap&quot;, line: Any, count: 3),
                (owner: Some((1)), typename: &quot;imp&quot;, line: Front, count: 4),
                (owner: Some((1)), typename: &quot;imp_toxic&quot;, line: Middle, count: 2),
                (owner: Some((1)), typename: &quot;imp_bomber&quot;, line: Back, count: 1),
                (owner: Some((1)), typename: &quot;imp_summoner&quot;, line: Back, count: 2),
            ],
        ),
        award: (
            recruits: [&quot;swordsman&quot;, &quot;spearman&quot;, &quot;hammerman&quot;],
        ),
    ),
]
</span></pre>
<p>Here's some real campaign scenario:
<a href="https://github.com/ozkriff/zemeroth_assets/blob/acd9fe9ef/campaign_01.ron">campaign_01.ron</a></p>
<p>There's a known bug that you can exit from a battle that is not going well
at any moment to start again.
This will be forbidden - permadeath is the only way :) .</p>
<h2 id="hit-chances">Hit Chances</h2>
<p>In the previous version of Zemeroth the hit chance was always 50%.
Now, <code>attack_accuracy</code> and <code>dodge</code> stats were added to the <code>Agent</code> component
to <a href="https://github.com/ozkriff/zemeroth/pull/370">implement a basic hit chances math</a>.</p>
<p>When you select an agent that can attack
(has an attack point and enemies in range)
a hit chance is shown over all available targets:</p>
<p><img src="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/2018-05-12--hit-chances-1.png" alt="Hit chances screenshot" /></p>
<p>During the attack animation, a hit chance is shown near
the attacker with a smaller font.</p>
<p><img src="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/2019-05-12--attack-hit-chances.gif" alt="Hit chance during the attack animation" /></p>
<p>This was added in order for the player to see how dangerous enemy attacks are.</p>
<hr />
<p>Also, wounded agents now become less accurate.
Each lost strength point results in -10% hit chance penalty (up to -30%).</p>
<p>Missing strength points (wounds) are shown by almost transparent green dots:</p>
<p><img src="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/2018-10-04--transparent-dots.png" alt="demo of transparent strength points" /></p>
<p>This gameplay change has two game balance consequences:</p>
<ul>
<li>Now it's more important to wound enemies,
finishing them off is a lower priority most of the time.
Sometimes wounded enemies even can be helpful to the player,
because they are not a real threat to player's fighters,
but can block the path for other enemies;</li>
<li>Alchemist's &quot;heal&quot; ability became important
because your agents are less useful when wounded too.</li>
</ul>
<p>Also, attacks with strength &gt; 1 have additional hit chances - with reduced damage
(each attack strength point gives 10% hit chance improvement).
This emulates the situation when an attacker barely touches their target
but still manages to make some damage to it.</p>
<h2 id="armor">Armor</h2>
<p>A basic armor system was implemented.
Armor points are shown above the agent in one line with strength points
using the yellow dots.
Each armor point deflects one damage point on each attack.
Some weapons can break armor (the <code>attack_break</code> parameter).
Fire and poison ignore armor.</p>
<p>Here's a little demo:</p>
<p><img src="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/2018-09-16--old-armor-demo.gif" alt="old armor demo" /></p>
<ul>
<li>an imp can't break armor so he can't deal any damage to the heavy swordsman;</li>
<li>toxic imp can't deal any direct damage but he poisons the swordsman
ignoring the armor;</li>
<li>insecto-snake destroys the armor with a powerful attack.</li>
</ul>
<p>In the current version of the game only imp summoners have armor,
so be careful with them.</p>
<h2 id="ai-updates">AI Updates</h2>
<ul>
<li>
<p>Now, <a href="https://github.com/ozkriff/zemeroth/pull/306">enemies always act in order of remoteness from a player's fighters</a>.
This way melee imps don't trip over each other too much.</p>
</li>
<li>
<p>AI learned to avoid walking into spikes, fire and poison clouds.</p>
</li>
<li>
<p>AI now moves closer to its targets even if there's no direct path to them
(<a href="https://youtu.be/09ODLL_Nu8w">full demo video</a>):</p>
<p><a href="https://youtu.be/09ODLL_Nu8w"><img src="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/2018-06-04--ai-pathfinding-demo.gif" alt="new pathfinding demo" /></a></p>
</li>
<li>
<p>Non-melee imps (bombers and summoners) are now
<a href="https://github.com/ozkriff/zemeroth/pull/298">trying to keep distance from the player's fighters in range</a>.
They need to avoid melee fights but still be able to throw bombs
at a player's fighters or summon new imps near the frontline.</p>
<p><img src="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/2018-07-02--ai-distance.gif" alt="ai distance demo" /></p>
<p>Summoner has a slightly greater min/max range than bomber.</p>
</li>
</ul>
<p>During the debugging of the above-mentioned features,
I also wrote <a href="https://github.com/ozkriff/zemeroth/blob/721ad06a6/src/core/map.rs#L152-L169">a simple helper function <code>dump_map</code></a>
that takes a closure and dumps required map data as a <code>char</code>
in the above GIF, pic 1 shows objects (<code>A</code> - an agent, <code>O</code> - a non-agent object)
and pic 2 shows available positions (<code>X</code>).</p>
<h2 id="bombs-and-commutative-effects">Bombs and Commutative Effects</h2>
<p><img src="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/2018-06-04--bombs-issue.png" alt="Illustration with multiple bombs" /></p>
<p>^ In the previous version of Zemeroth,
each of these bombs would have exploded at the beginning of the next turn
in order of their creation.
But this order is hard to remember and it's not clear from the picture at all.</p>
<p>The order is very important as the explosions push back objects - if the first
explosion is on the left, an agent will be damaged by the right bomb too.</p>
<p>Pushback is not the only possible effect suffering from this.
Other possible examples of <a href="https://en.wikipedia.org/wiki/Commutative_property">non-commutative effects</a>:
teleportation, armor-breaking acid, immunity to damage, etc.
Anything where changing the order of application can change the final state.</p>
<p>I see two possible ways to solve this:</p>
<ol>
<li><a href="https://store.steampowered.com/app/590380/Into_the_Breach">&quot;Into the Breach&quot;</a>-like approach with explicit numbers;</li>
<li>Forbid non-commutative delayed effects.</li>
</ol>
<p>ItB's approach means just adding this order information
explicit in the game's interface.
It looks like this:</p>
<p><a href="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/2018-06-22-into-the-breach.png"><img src="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/2018-06-22-into-the-breach-mini.png" alt="Into the breach screenshot" /></a></p>
<p>Technically it's possible, but I don't think that it fits for Zemeroth
because it's an extremely noisy interface feature,
but it's not really a core mechanic.</p>
<p>So, <a href="https://github.com/ozkriff/zemeroth/pull/296">I've taken the latter way</a>:
the &quot;Bomb&quot; ability was split into two abilities: instant &quot;BombPush&quot;
and delayed &quot;BombDamage&quot;.</p>
<p>The plan is to have three groups of objects with effects:</p>
<ul>
<li>Objects with immediate effects - can have non-commutative effects;</li>
<li>General objects with timed effects - only commutative effects allowed;</li>
<li>Special rare timed objects - can do whatever they want,
but only allowed as unique boss abilities, work in their own special phase.</li>
</ul>
<h2 id="other-game-rules-changes">Other Game Rules Changes</h2>
<ul>
<li>
<p>Spike traps were added. They're almost like fire tiles, but permanent.</p>
<p><img src="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/2019-05-12--spikes.png" alt="spike trap" /></p>
</li>
<li>
<p><a href="https://github.com/ozkriff/zemeroth/pull/351">Updated</a> &quot;Poison&quot; passive ability:
it can‚Äôt, by itself, kill an agent anymore.
‚ÄúPoisoned‚Äù status is removed when a target‚Äôs strength is reduced to 1.
This should make battles a little bit less frustrating and more dramatic.</p>
</li>
<li>
<p>Updated the &quot;Summon&quot; ability:</p>
<p><a href="https://github.com/ozkriff/zemeroth/pull/413">Each agent is now treated individually</a>.
The new code treats each summoned agent individually
thus preventing summoning weird packs of same imp types.</p>
<p><a href="https://github.com/ozkriff/zemeroth/pull/349">Each use of the &quot;Summon&quot; ability now creates one more imp</a>.
It forces the player to play more aggressively.</p>
<p>Changed the summoning algorithm to
<a href="https://twitter.com/ozkriff/status/1040321852495863808">prefer imp types that are under-presented on the map</a>,
not just random ones.
Seems to work fine now - even with increased summon rate imp types
are balanced in count: <a href="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/2018-09-14--fixed-summoning.png"><em>pic</em></a>.</p>
</li>
<li>
<p><a href="https://github.com/ozkriff/zemeroth/pull/360">Randomly-placed agents are not created point-blank to their enemies anymore</a>.</p>
</li>
<li>
<p>Also, <a href="https://github.com/ozkriff/zemeroth/pull/369">randomly-placed objects are now created on different <code>Line</code>s</a>.
This prevents Imp Summoners from being created only a tile away from enemies
and thus not having any chances to survive.
Or Imp Bombers being instantly tied with a melee fight.</p>
<p>A line is defined in the scenario files:</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">(owner: Some((1)), typename: &quot;imp&quot;, line: Front, count: 4),
</span></pre>
<p>There're four possible values:</p>
<pre style="background-color:#2b303b;">
<span style="color:#b48ead;">pub enum </span><span style="color:#c0c5ce;">Line { Any, Front, Middle, Back }
</span></pre></li>
</ul>
<h2 id="gameplay-video">Gameplay Video</h2>
<p>So, putting these gameplay changes together:</p>
<p><a href="https://youtu.be/zUVwAFSrh3c"><img src="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/2019-05-12--playtest-youtube-preview.png" alt="youtube video" /></a></p>
<p>This is a piece of a campaign mode playtest: battles 3, 4, and 5.</p>
<h2 id="svg-atlas">SVG Atlas</h2>
<p>Back to more technical updates.</p>
<p>As git is bad at storing non-text files and
it's practically impossible to use <a href="https://git-lfs.github.com">Git LFS</a> with a free GitHub plan
(because of <a href="https://help.github.com/en/articles/about-storage-and-bandwidth-usage">the bandwidth limitations</a>),
it looks like a good idea to keep text source files, assets source files,
and built assets in separate repositories
to make &quot;optimization history editing&quot; (removing old commits) easier.</p>
<p><a href="https://github.com/ozkriff/zemeroth">The main repo</a>
and <a href="https://github.com/ozkriff/zemeroth_assets">the assets repo</a>
already existed,
but I wasn't storing assets source files in any VCS.</p>
<p>So, during v0.5 development, I've created another repo for assets sources:
<a href="https://github.com/ozkriff/zemeroth_assets_src">ozkriff/zemeroth_assets_src</a>.
The two key files of this repo are: <a href="https://github.com/ozkriff/zemeroth_assets_src/blob/1f1813eff/atlas.svg">atlas.svg</a> and <a href="https://github.com/ozkriff/zemeroth_assets_src/blob/1f1813eff/export.py">export.py</a>.</p>
<p>The atlas contains all sprites in one file.
Each sprite is stored as a named group.
As the game isn't that much art heavy, using one file for all visual assets
looks fitting, because of it:</p>
<ul>
<li>simplifies sharing parts of sprites and mockups creation;</li>
<li>avoids complications of linking/embedding multiple SVG files together
(you need to manually edit XML do to this properly as far as I know).</li>
</ul>
<p>The export script is quite simple, it just calls Inkscape using its CLI
interface and tells what named group needs to be exported to PNGs.
It boils down to:</p>
<pre style="background-color:#2b303b;">
<span style="color:#b48ead;">for </span><span style="color:#96b5b4;">id </span><span style="color:#b48ead;">in </span><span style="color:#c0c5ce;">[&#39;</span><span style="color:#a3be8c;">imp</span><span style="color:#c0c5ce;">&#39;, &#39;</span><span style="color:#a3be8c;">imp_toxic</span><span style="color:#c0c5ce;">&#39;, &#39;</span><span style="color:#a3be8c;">grass</span><span style="color:#c0c5ce;">&#39;, </span><span style="color:#d08770;">...</span><span style="color:#c0c5ce;">]:
    subprocess.</span><span style="color:#bf616a;">run</span><span style="color:#c0c5ce;">([
        &#39;</span><span style="color:#a3be8c;">inkscape</span><span style="color:#c0c5ce;">&#39;,
        input_file_name,
        </span><span style="color:#b48ead;">f</span><span style="color:#c0c5ce;">&#39;</span><span style="color:#a3be8c;">--export-id=</span><span style="color:#c0c5ce;">{</span><span style="color:#96b5b4;">id</span><span style="color:#c0c5ce;">}&#39;,
        </span><span style="color:#b48ead;">f</span><span style="color:#c0c5ce;">&#39;</span><span style="color:#a3be8c;">--export-png=</span><span style="color:#c0c5ce;">{out_dir_name}</span><span style="color:#a3be8c;">/</span><span style="color:#c0c5ce;">{</span><span style="color:#96b5b4;">id</span><span style="color:#c0c5ce;">}</span><span style="color:#a3be8c;">.png</span><span style="color:#c0c5ce;">&#39;,
    ], </span><span style="color:#bf616a;">check</span><span style="color:#c0c5ce;">=</span><span style="color:#d08770;">True</span><span style="color:#c0c5ce;">)
</span></pre>
<p>There's also a hack to avoid specifying exact sprite PNG sizes
as raw numbers in the export script:
each named group contains an invisible square (a rectangle for terrain tiles).
It can be temporary made slightly visible for debugging purposes:</p>
<p><a href="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/2018-07-16--svg-atlas-test.png"><img src="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/2018-07-16--svg-atlas-test.png" alt="sprites in the debug mode" /></a></p>
<h2 id="assets-hash">Assets Hash</h2>
<p>Another technical assets-related update is that a md5 hash check was added.
This should help to detect when someone who is building from source
forgets to update the assets.</p>
<p>A small <a href="https://github.com/ozkriff/zemeroth_assets/blob/acd9fe9ef/checksum.py">checksum.py</a> python script is used to calculate the hash
of all non-hidden files in the repo.
<a href="https://github.com/ozkriff/zemeroth_assets/blob/acd9fe9ef/travis.yml">CI uses it to check</a>
that the committed hashsum really corresponds to the committed assets.</p>
<p>The expected hash is <a href="https://github.com/ozkriff/zemeroth/blob/721ad06a6src/main.rs#L92">hardcoded directly into main.rs</a>.
If the game is run with a wrong version of assets,
now you get a clear error message about that:</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">Bad assets checksum abcdeabcdeabcdeabcdeabcdeabcdeab (expected 18e7de361e74471aeaec3f209ef63c3e)
</span></pre><h2 id="tests">Tests</h2>
<p>One of the benefits of making a turn-based game is that you can relatively easy
separate the logic from the visuals and cover the former with tests.</p>
<p><a href="https://github.com/ozkriff/zemeroth/pull/439">A few test scenarios were added</a>.</p>
<p>They are completely deterministic.
Randomness is mitigated with special agent types with unrealistic stats
(for example, <code>accuracy = 999</code> or <code>strength = 1</code>),
that allows them to always pass required tests
(for example, always hits or always dies on the first hit),
and an additional <code>no_random</code> flag in the game state, that causes a panic
if agent's stats during the &quot;dice roll&quot; may result in non-determined results
(basically, it checks that the coefficients are large or low enough
to shut off any dice value fluctuations).</p>
<p>&quot;Exact objects&quot; were added to the scenarios.
Test scenarios mustn't contain any randomly-placed objects,
otherwise the <code>no_random</code> debug flag will cause a panic.</p>
<p>Basic test looks like this:</p>
<pre style="background-color:#2b303b;">
<span style="color:#c0c5ce;">#[</span><span style="color:#bf616a;">test</span><span style="color:#c0c5ce;">]
</span><span style="color:#b48ead;">fn </span><span style="color:#8fa1b3;">basic_move</span><span style="color:#c0c5ce;">() {
    </span><span style="color:#b48ead;">let</span><span style="color:#c0c5ce;"> prototypes = </span><span style="color:#96b5b4;">prototypes</span><span style="color:#c0c5ce;">(&amp;[
        (&quot;</span><span style="color:#a3be8c;">mover</span><span style="color:#c0c5ce;">&quot;, [</span><span style="color:#96b5b4;">component_agent_move_basic</span><span style="color:#c0c5ce;">()].</span><span style="color:#96b5b4;">to_vec</span><span style="color:#c0c5ce;">()),
        (&quot;</span><span style="color:#a3be8c;">dull</span><span style="color:#c0c5ce;">&quot;, [</span><span style="color:#96b5b4;">component_agent_dull</span><span style="color:#c0c5ce;">()].</span><span style="color:#96b5b4;">to_vec</span><span style="color:#c0c5ce;">()),
    ]);
    </span><span style="color:#b48ead;">let</span><span style="color:#c0c5ce;"> scenario = scenario::default()
        .</span><span style="color:#96b5b4;">object</span><span style="color:#c0c5ce;">(</span><span style="color:#d08770;">P0</span><span style="color:#c0c5ce;">, &quot;</span><span style="color:#a3be8c;">mover</span><span style="color:#c0c5ce;">&quot;, PosHex { q: </span><span style="color:#d08770;">0</span><span style="color:#c0c5ce;">, r: </span><span style="color:#d08770;">0 </span><span style="color:#c0c5ce;">})
        .</span><span style="color:#96b5b4;">object</span><span style="color:#c0c5ce;">(</span><span style="color:#d08770;">P1</span><span style="color:#c0c5ce;">, &quot;</span><span style="color:#a3be8c;">dull</span><span style="color:#c0c5ce;">&quot;, PosHex { q: </span><span style="color:#d08770;">0</span><span style="color:#c0c5ce;">, r: </span><span style="color:#d08770;">2 </span><span style="color:#c0c5ce;">});
    </span><span style="color:#b48ead;">let mut</span><span style="color:#c0c5ce;"> state = </span><span style="color:#96b5b4;">debug_state</span><span style="color:#c0c5ce;">(prototypes, scenario);
    </span><span style="color:#b48ead;">let</span><span style="color:#c0c5ce;"> path = Path::new(vec![
        PosHex { q: </span><span style="color:#d08770;">0</span><span style="color:#c0c5ce;">, r: </span><span style="color:#d08770;">0 </span><span style="color:#c0c5ce;">},
        PosHex { q: </span><span style="color:#d08770;">0</span><span style="color:#c0c5ce;">, r: </span><span style="color:#d08770;">1 </span><span style="color:#c0c5ce;">},
    ]);
    </span><span style="color:#96b5b4;">exec_and_check</span><span style="color:#c0c5ce;">(
        &amp;</span><span style="color:#b48ead;">mut</span><span style="color:#c0c5ce;"> state,
        command::MoveTo {
            id: ObjId(</span><span style="color:#d08770;">0</span><span style="color:#c0c5ce;">),
            path: path.</span><span style="color:#96b5b4;">clone</span><span style="color:#c0c5ce;">(),
        },
        &amp;[Event {
            active_event: event::MoveTo {
                id: ObjId(</span><span style="color:#d08770;">0</span><span style="color:#c0c5ce;">),
                path,
                cost: Moves(</span><span style="color:#d08770;">1</span><span style="color:#c0c5ce;">),
            }
            .</span><span style="color:#96b5b4;">into</span><span style="color:#c0c5ce;">(), </span><span style="color:#65737e;">// small formatting issue, see a note below
</span><span style="color:#c0c5ce;">            actor_ids: vec![ObjId(</span><span style="color:#d08770;">0</span><span style="color:#c0c5ce;">)],
            instant_effects: Vec::new(),
            timed_effects: Vec::new(),
            scheduled_abilities: Vec::new(),
        }],
    );
}
</span></pre>
<p>(<em>I didn't use the builder pattern for event construction,
even though most of the time two or three its fields are empty vectors,
because I've faced some <a href="https://github.com/rust-lang/rustfmt/issues/3157#issuecomment-472718887">method chains formatting issues</a></em>)</p>
<p>Test scenario consists of a list of commands and a list of expected events.
Occasionally, it can check some parts of the state.</p>
<p>A prototypes list and a scenario are created from scratch
(though, with some helper functions) for each test.
It takes more lines of code than reusing a small set of multi-cases scenarios,
but the idea is that this way the amount of objects and components
in each test is minimized.
This way it's easier to diagnose the bug
and makes tests less likely to break on unrelated game logic change.</p>
<p>A &quot;dull&quot; enemy agent is required only for the scenario not to end instantly.
Because the win condition is when no enemy agents are alive.</p>
<hr />
<p><a href="https://github.com/colin-kiegel/rust-pretty-assertions">colin-kiegel/rust-pretty-assertions</a>
is a super-useful crate when you need to debug
failing assert comparisons of big hierarchical objects
(some of which may be many screens long in my case).</p>
<p><img src="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/2019-03-20--color-assert.png" alt="a colored assert error" /></p>
<p>One peculiarity is that I had to replace all <code>HashMap&lt;ObjId, Vec&lt;Foo&gt;&gt;</code>
in events with <code>Vec&lt;(ObjId, Vec&lt;Foo&gt;)&gt;</code> to preserve the order.
Otherwise pretty-assertion has been exploding.</p>
<h2 id="other-technical-changes">Other Technical Changes</h2>
<ul>
<li><a href="https://github.com/ozkriff/zemeroth/pull/394">Moved all crates to Rust 2018</a>;</li>
<li><a href="https://github.com/ozkriff/zemeroth/pull/226">Added a note about 'help-wanted' issues</a>;</li>
<li>Used <code>derive_more::From</code> for enums and errors;</li>
<li><a href="https://github.com/ozkriff/zemeroth/pull/229">Migrated to <code>std::time::Duration</code></a>
and added <code>time_s</code> shortcut/helper function;</li>
<li><a href="https://github.com/ozkriff/zemeroth/pull/365">Removed</a> some data duplication
from <a href="https://github.com/ozkriff/zemeroth_assets/blob/69e6fb34c/objects.ron">the <code>.ron</code> config with objects descriptions</a>
using serde`s default annotations and helper init functions;</li>
<li><a href="https://github.com/ozkriff/zemeroth/pull/220">Added a <code>windows_subsystem</code> attribute</a>
to hide cmd window on Windows;</li>
<li><a href="https://github.com/ozkriff/zemeroth/pull/233">Fixed panic when a boulder is pushed into fire/spikes</a>;</li>
<li><a href="https://github.com/ozkriff/zemeroth/pull/431">Mergeed all 'line_height' consts and functions</a>;</li>
<li><a href="https://github.com/ozkriff/zemeroth/pull/365">Removed data duplication from <code>objects.ron</code></a>.</li>
</ul>
<h2 id="indikator">Indikator</h2>
<p><a href="https://twitter.com/ozkriff/status/1058359693503070208">Gave a presentation about Zemeroth</a> at 8th Indie-StandUp
at <a href="http://indierocket.ru">Indikator</a>.
It went pretty good, local indie devs seemed to like the project,
especially considering that it's opensource and uses an interesting tech.
At least one of the devs has visited
<a href="https://www.meetup.com/spbrust">our local rustlang meetup</a> afterward. ü¶Ä</p>
<p><img src="https://ozkriff.github.io/2019-05-13--devlog-zemeroth-v0-5/2018-11-03--indikator.jpg" alt="me presenting Zemeroth at Indikator" /></p>
<hr />
<p>It's unrelated, but <a href="https://www.redblobgames.com/grids/hexagons/implementation.html">Zemeroth was mentioned on Amit's page about hex math</a>.</p>
<h2 id="migrated-this-devlog-to-zola">Migrated This Devlog to Zola</h2>
<p>During the preparation for this Zemeroth release, I've <a href="https://ozkriff.github.io/2017-12-01--devlog/index.html#restructuredtext-markdown">finally</a>
switched the static site generator behind this devlog
from Python-based <a href="https://getpelican.com">Pelican</a> to Rustlang-based <a href="http://getzola.org">Zola</a>.</p>
<p><a href="https://twitter.com/ozkriff/status/1119212330246656002">Here's a twitter thread</a>
with some migration notes.</p>
<p>TLDR is that
I've mostly automatically converted all RestructuredText post sources into Markdown,
replaced <a href="http://disqus.com">Disqus comments</a> with direct links to reddit/twitter/etc,
set up redirects from old URLs.</p>
<h2 id="roadmap">Roadmap</h2>
<p>What's next? Some things I <em>hope</em> to implement for v0.6 release are:</p>
<ul>
<li><a href="https://github.com/ozkriff/zemeroth/issues/276">Replace the text buttons with icons</a>;</li>
<li><a href="https://github.com/ozkriff/zemeroth/issues/214">Reduce text overlapping</a>;</li>
<li><a href="https://github.com/ozkriff/zemeroth/issues/221">Add sound effects and music</a>;</li>
<li><a href="https://github.com/ozkriff/zemeroth/issues/399">Add fighters upgrade trees</a>;</li>
</ul>
<p>You can find a slightly more detailed roadmap
<a href="https://github.com/ozkriff/zemeroth#roadmap">in the project's README</a>.</p>
<hr />
<p>That's all for today, thanks for reading!</p>
<p>If you're interested in this project you can follow
<a href="https://twitter.com/ozkriff">@ozkriff on Twitter</a> for more news.</p>
<p>Also, if you're interested in Rust game development in general,
you may want to check <a href="http://twitter.com/rust_gamedev">@rust_gamedev</a>
twitter account that I've started recently.</p>
<p><strong>Discussions of this post</strong>:
<a href="https://www.reddit.com/r/rust/comments/bo5w0q/zemeroth_v05_ggez_wasm_itchio_visuals_ai_campaign/">/r/rust</a>,
<a href="https://twitter.com/ozkriff/status/1127977478746669056">twitter</a>.</p>

</div>

        </div>

    </body>

</html>
